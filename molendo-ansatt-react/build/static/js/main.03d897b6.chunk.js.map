{"version":3,"sources":["Language/i18n.js","Toolbar/Toolbar.js","Icons/CrossIcon.js","Icons/CheckIcon.js","Calendar/RosterTime/RosterTime.js","Calendar/TimePopout/TimePopout.js","Calendar/DailyCopyPopout/DailyPopoutDay.js","Calendar/DailyCopyPopout/DailyPopoutWeek.js","Calendar/DailyCopyPopout/DailyCopyPopout.js","Icons/LockedIcon.js","Icons/UnlockedIcon.js","Icons/TrashIcon.js","Icons/CopyIcon.js","Icons/PlusIcon.js","Calendar/CalendarDay/CalendarDay.js","Calendar/WeeklyCopyPopout/WeeklyPopoutWeek.js","Calendar/WeeklyCopyPopout/WeeklyCopyPopout.js","Icons/MaximizeIcon.js","Icons/MinimizeIcon.js","Icons/DoubleLeftIcon.js","Icons/DoubleRightIcon.js","Icons/SaveIcon.js","Calendar/CalendarWeek/CalendarWeek.js","Icons/CaretDownIcon.js","Calendar/SaveModal/SaveModal.js","Calendar/Calendar.js","Login/LoginPhone.js","Login/LoginCode.js","Icons/SettingsIcon.js","Login/Login.js","assets/images/week-reset.PNG","Information/ShiftRegistration/Buttons/WeekReset.js","assets/images/week-copy.PNG","Information/ShiftRegistration/Buttons/WeekCopy.js","assets/images/week-lock-locked.PNG","assets/images/week-lock-unlocked.PNG","Information/ShiftRegistration/Buttons/WeekLock.js","assets/images/week-save.PNG","Information/ShiftRegistration/Buttons/WeekSave.js","assets/images/week-minimize.PNG","assets/images/week-expand.PNG","Information/ShiftRegistration/Buttons/WeekMinimize.js","assets/images/week-navigate.PNG","Information/ShiftRegistration/Buttons/WeekNavigate.js","Information/ShiftRegistration/WeekButtons.js","assets/images/registration-week-box.PNG","Information/ShiftRegistration/WeekBox.js","assets/images/day-lock-unlocked.PNG","assets/images/day-lock-locked.PNG","Information/ShiftRegistration/Buttons/DayLock.js","assets/images/day-reset.PNG","Information/ShiftRegistration/Buttons/DayReset.js","assets/images/day-copy.PNG","Information/ShiftRegistration/Buttons/DayCopy.js","assets/images/registered-shifts.PNG","Information/ShiftRegistration/Buttons/IndividualShift.js","Information/ShiftRegistration/DayButtons.js","assets/images/registration-day-box.PNG","Information/ShiftRegistration/DayBox.js","assets/images/new-registration-normal.PNG","assets/images/new-registration-arrow.PNG","assets/images/new-registration-dropdown.PNG","Information/ShiftRegistration/NewShift.js","assets/images/day-copy-popout.PNG","Information/ShiftRegistration/DayCopying.js","assets/images/week-copy-popout.PNG","Information/ShiftRegistration/WeekCopying.js","Information/ShiftRegistration/Copying.js","Information/ShiftRegistration/ShiftRegistration.js","Information/Acknowledgements/Acknowledgements.js","Information/Information.js","Home/Home.js","Jwt/Jwt.js","App.js","index.js"],"names":["resources","en","translation","no","i18n","use","detector","reactI18nextModule","init","fallbackLng","debug","keySeparator","interpolation","escapeValue","Toolbar","Navbar","variant","role","Brand","href","className","alt","Nav","to","t","Link","onClick","this","props","logOut","DropdownButton","menuAlign","title","Dropdown","Header","tabIndex","Item","handleLangChange","Divider","activeClassName","Component","CrossIcon","viewBox","fill","height","width","fillRule","stroke","strokeLinecap","strokeLinejoin","d","CheckIcon","RosterTime","state","showModal","delete","bind","handleClose","date","hour","getHours","minute","getMinutes","roster","start","fldOpRLogOn","fldOpRLogOut","setState","deleteRoster","startTime","Date","fldOpRStartTime","fldOpRStartDate","setHours","setMinutes","setSeconds","getSeconds","setMilliseconds","getMilliseconds","zeroPadTime","endTime","fldOpREndTime","spanClassName","fldOpRID","disabled","locked","Modal","cssTheme","show","onHide","backdrop","keyboard","closeButton","Title","Body","Footer","Button","handleConfirmation","TimePopout","btn","valid","empty","openEnded","onTimeChange","isFormatValid","adjustForNextDay","isAvailable","createDate","setStartEnd","addRoster","setInvalid","toggleOpenEnded","getDisabledHours","hours","end","push","moments","length","minutes","i","isValid","adjustment","setTime","getTime","newStart","newEnd","plans","dailyPlans","old","oldStart","oldEnd","fldOpREndDate","time","toggleOverlay","format","defaultFormat","moment","timePicker","size","showNow","onChange","disabledHours","hideDisabledOptions","minuteStep","placeholder","getPopupContainer","triggerNode","parentNode","rangePicker","RangePicker","order","submit","Container","Row","DailyPopoutDay","checked","active","changeChecked","deactivate","currentDate","minDate","setDate","getDate","dayNumber","serverTime","prevState","changeCopiedDay","undefined","id","type","readOnly","weekday","DailyPopoutWeek","dayList","weekNumber","week","DailyCopyPopout","copiedDays","saveCopies","shouldAdd","newDays","filter","value","forEach","day","replaceRostersOnDate","rostersToCopy","weekList","weekAmount","minWeek","weekdays","LockedIcon","UnlockedIcon","TrashIcon","CopyIcon","PlusIcon","CalendarDay","showCopy","showNew","changeLocked","toggleCopyPopup","toggleNewPopup","pastDate","lockIcon","finishedRosters","futureRosters","newPopover","Popover","Content","endDate","month","getMonth","copyPopover","deleteStartTime","deleteRostersBetweenDates","OverlayTrigger","trigger","onToggle","rootClose","placement","overlay","WeeklyPopoutWeek","changeCopiedWeek","WeeklyCopyPopout","copiedWeeks","newWeeks","replaceRostersOnWeek","MaximizeIcon","strokeWidth","MinimizeIcon","DoubleLeftIcon","DoubleRightIcon","SaveIcon","CalendarWeek","scrollRef","React","createRef","minimized","changeMinimized","handleScrolling","direction","current","scrollBy","left","top","behavior","getDay","week1","getFullYear","Math","round","startDate","getWeek","weeklyRoster","lock","dayWrapper","ref","deleteStartDate","toggleSaveModal","CaretDownIcon","SaveModal","defaultClose","handleSave","handleDefaultClose","loading","saveRosters","then","response","a","text","msg","status","toggleModal","statusText","success","getRosters","message","body","Accordion","Card","Toggle","as","eventKey","Collapse","Form","Check","label","Calendar","maxDate","showSaveModal","saves","url","baseUrl","fetch","mode","headers","data","ok","error","Promise","reject","minMaxDates","calcMinMaxDates","minHour","maxHour","catch","console","log","document","weekdayAdjustment","maxDatePrev","callback","rostersInWeeks","min","max","j","dayMin","dayMax","rosters","saveModal","saveButton","name","LoginPhone","Group","Control","aria-label","phoneNumber","event","handleChange","noGutters","Col","xs","sm","handleNextClick","LoginCode","Text","phone","autoComplete","handleBackClick","float","SettingsIcon","Login","onCodePage","code","invalidPhone","invalidCode","getServices","target","preventDefault","sendPhone","sendCode","json","setServices","options","method","JSON","stringify","service","setAuthenticated","jwt","token","opServId","Toast","loginComponent","spinner","content","servicesMenu","services","Object","entries","map","k","handleServiceChange","menu","toast","createToast","authenticated","WeekReset","Image","src","WeekResetImage","WeekCopy","WeekCopyImage","WeekLock","WeekLockUnlocked","WeekLockLocked","WeekSave","WeekSaveImage","WeekMinimize","WeekMinimizeImage","WeekMaximizeImage","WeekNavigate","WeekNavigateImage","WeekButtons","WeekBox","WeekImage","fluid","DayLock","DayLockUnlocked","DayLockLocked","DayReset","DayResetImage","DayCopy","DayCopyImage","IndividualShift","IndividualShiftImage","DayButtons","DayBox","DayBoxImage","NewShift","NewRegistrationNormal","NewRegistrationArrow","NewRegistrationDropdown","DayCopying","DayCopyPopoutImage","WeekCopying","WeekCopyPoput","Copying","ShiftRegistration","Acknowledgements","Information","Home","ongoing","currentOngoing","handleClick","formatTime","checkOngoing","prevProps","rosterStart","rosterStartTime","setTimeout","rosterEnd","buttonText","informationText","parseJwt","base64","split","replace","jsonPayload","decodeURIComponent","atob","c","charCodeAt","toString","slice","join","parse","loadAuth","localStorage","getItem","payload","exp","removeItem","opservid","loadService","theme","minhour","maxhour","App","currentLanguage","language","setRosters","formatDate","onLanguageChanged","off","lang","forceUpdate","on","changeLanguage","serviceName","setItem","documentElement","auth","sort","b","fldServID","dateTime","shouldSave","newRosters","newRoster","fldOpServID","fldOpRDropIn","fldOpROnHold","fldOpRComment","pointerStart","pointerStartTime","splice","deleteTime","prevRosters","currentMinTime","rosterEndTime","rosterTime","rosterList","index","rostersToSave","deleteRosters","loginContainer","calendarContainer","homeContainer","path","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.03d897b6.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport { reactI18nextModule } from 'react-i18next';\nimport detector from 'i18next-browser-languagedetector'\nimport translationEn from './../assets/languages/en.json'\nimport translationNo from './../assets/languages/no.json'\n\n// don't want to use this?\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\nconst resources = {\n  en: {\n    translation: translationEn\n  },\n  no: {\n    translation: translationNo\n  }\n}\n\ni18n\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-http-backend\n  //.use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(detector)\n  // pass the i18n instance to react-i18next.\n  .use(reactI18nextModule)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    resources,\n    fallbackLng: 'en',\n    debug: false,\n    keySeparator: '.',\n    \n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    }\n  });\n\n\nexport default i18n","import React, { Component } from 'react'\nimport { Navbar, Nav, Dropdown, DropdownButton } from 'react-bootstrap'\nimport { NavLink } from 'react-router-dom'\nimport i18n from './../Language/i18n'\nimport './Toolbar.css'\n\nexport default class Toolbar extends Component {\n    render() {\n\n        return (\n            <Navbar\n                variant=\"dark\"\n                role=\"navigation\">\n                <Navbar.Brand href=\"/\">\n                    <div className=\"logo\" alt=\"service logo\"/></Navbar.Brand>\n                \n                <Nav className=\"ml-auto\">\n\n                <NavLink\n                    className=\"nav-link\"\n                    to=\"/home\">\n                        {i18n.t('nav.home')}\n                </NavLink>\n\n                <NavLink\n                    className=\"nav-link\"\n                    to=\"/calendar\">\n                        {i18n.t('nav.calendar')}\n                </NavLink>\n\n                    <Nav.Link\n                        className=\"wide\"\n                        onClick={this.props.logOut}>\n                            {i18n.t('nav.log-out')}\n                    </Nav.Link>\n\n                    <DropdownButton\n                        variant=\"secondary\"\n                        menuAlign=\"right\"\n                        title={i18n.t('nav.menu')} >\n                        <Dropdown.Header tabIndex=\"-1\">{i18n.t('login.menu-language')}</Dropdown.Header>\n                        <Dropdown.Item onClick={() => this.props.handleLangChange(\"en\")}>English</Dropdown.Item>\n                        <Dropdown.Item onClick={() => this.props.handleLangChange(\"sw\")}>Svenska</Dropdown.Item>\n                        <Dropdown.Item onClick={() => this.props.handleLangChange(\"no\")}>Norsk</Dropdown.Item>\n                        <Dropdown.Divider tabIndex=\"-1\" />\n                        <NavLink\n                            activeClassName=\"\"\n                            className=\"dropdown-item\"\n                            to=\"/information\">\n                                {i18n.t('nav.information')}\n                        </NavLink>\n                        <Dropdown.Item className=\"narrow\" onClick={this.props.logOut}>{i18n.t('nav.log-out')}</Dropdown.Item>\n                    </DropdownButton>\n                </Nav>\n            </Navbar>\n        )\n    }\n}\n","import * as React from \"react\";\n\n// Corey Ginnivan - not licensed\nfunction CrossIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 21 21\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <g\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M5.5 15.5l10-10M15.5 15.5l-10-10z\" />\n      </g>\n    </svg>\n  );\n}\n\nexport default CrossIcon;\n","import * as React from \"react\";\n\nfunction CheckIcon(props) {\n  return (\n    <svg\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z\"\n      />\n    </svg>\n  );\n}\n\nexport default CheckIcon;\n","import React, { Component } from 'react'\nimport CrossIcon from './../../Icons/CrossIcon'\nimport CheckIcon from './../../Icons/CheckIcon'\nimport { Modal, Button } from 'react-bootstrap'\nimport i18n from './../../Language/i18n'\nimport './RosterTime.css'\n\nexport default class RosterTime extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            showModal: false\n        }\n\n        this.delete = this.delete.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n    }\n    zeroPadTime(date) {\n        let hour = date.getHours() > 9 ? date.getHours() : `0${date.getHours()}`\n        let minute = date.getMinutes() > 9 ? date.getMinutes() : `0${date.getMinutes()}`\n        return `${hour}:${minute}`\n    }\n\n    delete(roster, start) {\n        if(roster.fldOpRLogOn === true && roster.fldOpRLogOut === false)\n            this.setState({showModal: true})\n        else this.props.deleteRoster(start) \n    }\n\n    handleClose() {\n        this.setState({showModal: false})\n    }\n\n    handleConfirmation(start) {\n        this.props.deleteRoster(start)\n        this.handleClose()\n    }\n\n    render() {\n        let roster = this.props.roster;\n        let startTime = new Date(roster.fldOpRStartTime)\n        let start = new Date(roster.fldOpRStartDate)\n        start.setHours(startTime.getHours())\n        start.setMinutes(startTime.getMinutes())\n        start.setSeconds(startTime.getSeconds())\n        start.setMilliseconds(startTime.getMilliseconds())\n        startTime = this.zeroPadTime(startTime)\n\n        let endTime = roster.fldOpREndTime\n        if (!endTime) endTime = \"<>\"\n        else endTime = this.zeroPadTime(new Date(endTime))\n\n        let spanClassName = \"\"\n        if(!roster.fldOpRID) spanClassName = \"newTime\"\n        else if ( roster.fldOpRLogOn === true && roster.fldOpRLogOut === false)\n            spanClassName = \"onGoingTime\"\n\n        return (\n            <div className=\"rosterTime\">\n                <span className={spanClassName}>\n                    {startTime} - {endTime}\n                </span>\n                <button\n                    className=\"deleteButton\"\n                    disabled={this.props.locked}\n                    onClick={() => this.delete(roster, start)}>\n                    {(roster.fldOpRLogOn === true && roster.fldOpRLogOut === true) ? \n                        <CheckIcon fill=\"#83E22B\" stroke=\"#83E22B\" /> : <CrossIcon />}\n                </button>\n\n                <Modal\n                    className={this.props.cssTheme}\n                    show={this.state.showModal}\n                    onHide={this.handleClose}\n                    backdrop=\"static\"\n                    keyboard={false} \n                >\n                    <Modal.Header closeButton>\n                        <Modal.Title>{i18n.t('delete.title')}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        {i18n.t('delete.body')}\n                    </Modal.Body>\n                    <Modal.Footer>\n                    <Button\n                            className=\"confirm\" \n                            variant=\"primary\" \n                            onClick={() => this.handleConfirmation(start)}>\n                            {i18n.t('delete.yes')}\n                        </Button>\n                        <Button\n                            className=\"error\"\n                            variant=\"secondary\"\n                            onClick={this.handleClose}>\n                            {i18n.t('delete.close')}\n                        </Button>\n\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Button, Container, Row } from 'react-bootstrap'\nimport { TimePicker } from 'antd'\nimport i18n from './../../Language/i18n'\nimport moment from 'moment'\nimport 'antd/dist/antd.css'\nimport './TimePopout.css'\n\nexport default class TimePopout extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            btn: i18n.t('new.set-time'),\n            valid: false,\n            empty: true,\n            openEnded: false\n        }\n\n        this.onTimeChange = this.onTimeChange.bind(this)\n        this.isFormatValid = this.isFormatValid.bind(this)\n        this.adjustForNextDay = this.adjustForNextDay.bind(this)\n        this.isAvailable = this.isAvailable.bind(this)\n        this.createDate = this.createDate.bind(this)\n        this.setStartEnd = this.setStartEnd.bind(this)\n        this.addRoster = this.addRoster.bind(this)\n        this.setInvalid = this.setInvalid.bind(this)\n        this.toggleOpenEnded = this.toggleOpenEnded.bind(this)\n        this.getDisabledHours = this.getDisabledHours.bind(this)\n    }\n\n    getDisabledHours() {\n        let hours = []\n        let start = new Date(this.props.start)\n        let end = new Date(this.props.end)\n\n        if(start.getHours() != end.getHours()) {\n            start.setHours(start.getHours() - 1)\n\n            while(start.getHours() != end.getHours()) {\n                hours.push(start.getHours())\n                start.setHours(start.getHours() - 1)\n            }\n        }\n        return hours\n    }\n\n    toggleOpenEnded() {\n        this.setState({openEnded: !this.state.openEnded,\n                       empty: true, btn: i18n.t('new.set-time')})\n    }\n\n    // called by Time/RangePicker when time is set\n    onTimeChange(moments) {\n        let formatValid = this.isFormatValid(moments)\n        if (formatValid) {\n            if (!moments.length) moments = [moments]\n            let timespanValid = this.setStartEnd(moments)\n            if (timespanValid) \n                this.setState({valid: true, btn: i18n.t('new.confirm'),\n                               empty: false})\n            else this.setInvalid()\n        } else {\n            this.setInvalid()\n        }\n    }\n\n    setStartEnd(moments) {\n        let start = new Date(this.props.start)\n        let end = new Date(this.props.end)\n\n        start.setHours(moments[0].hours())\n        start.setMinutes(moments[0].minutes())\n\n        if (!this.state.openEnded) {\n            if (end.getHours() !== moments[1].hours())\n                end.setMinutes(moments[1].minutes())\n            end.setHours(moments[1].hours())\n        }\n\n        // Dates have to be adjusted if workday ends after midnight\n        if (start < this.props.start) this.adjustForNextDay(start, 1)\n        if (end > this.props.end) this.adjustForNextDay(end, -1)\n        if (start >= end) return\n        let available = this.isAvailable(start, end)\n        if (!available) return\n        this.setState({start: start, end: end})\n        return true\n    }\n\n    // Primitive first check\n    isFormatValid(moments) {\n        if (!moments) return\n        if (!moments.length) moments = [moments]\n        for (let i = 0; i < moments.length; i++) {\n            if (!moments[i].isValid()) return\n        }\n        return true\n    }\n\n    // Adding a day if time is after midnight\n    adjustForNextDay(date, adjustment) {\n        date.setTime( date.getTime() + adjustment * 86400000 )\n    }\n\n    // Is the chosen timespan available?\n    isAvailable(newStart, newEnd) {\n        let plans = this.props.dailyPlans\n        for (let i = 0; i < plans.length; i++) {\n            let old = plans[i]\n\n            if(old.fldOpRLogOn === true && old.fldOpRLogOut === true) continue\n\n            let oldStart = this.createDate(old.fldOpRStartDate, old.fldOpRStartTime).getTime()\n            let oldEnd = old.fldOpREndTime ? \n                this.createDate(old.fldOpREndDate, old.fldOpREndTime).getTime() : null\n                \n            if (this.state.openEnded) {\n                // Same day can't have two open-ended regs\n                if (!oldEnd) return\n                // New open-ended can't start before normal old ends\n                if (newStart <= oldEnd) return\n            }\n            \n            if (!oldEnd) {\n                // New normal can't end after old open-ended starts\n                if (oldStart <= newEnd) return\n            }\n            \n            // TODO improve logic for start-now and open-ended scenarios\n            if (this.state.openEnded || !oldEnd) return true\n            \n            if (newStart <= oldEnd && oldStart <= newEnd) return\n        } \n        return true\n    }\n\n    // Helper method for comparing datetimes\n    createDate(date, time) {\n        date = new Date(date)\n        time = new Date(time)\n        date.setHours(time.getHours())\n        date.setMinutes(time.getMinutes())\n        date.setSeconds(time.getSeconds())\n        return date\n    }\n\n    addRoster() {        \n        this.props.addRoster(this.state.start, this.state.end, this.state.openEnded)\n        this.setState({start: new Date(this.props.start),\n                        end: new Date(this.props.end),\n                        valid: false, btn: i18n.t('new.set-time'), empty: true})\n        this.props.toggleOverlay()\n    }\n\n    setInvalid() {\n        this.setState({valid: false, btn: i18n.t('new.invalid'), empty: false})\n    }\n\n    render() {\n        let format = \"HH:mm\"\n        let defaultFormat = moment('09:00', format)\n        let timePicker = <TimePicker \n            size=\"large\"\n            showNow\n            onChange={this.onTimeChange.bind(this)}\n            format={format}\n            disabledHours={this.getDisabledHours} \n            hideDisabledOptions={false}\n            defaultFormat={defaultFormat}\n            minuteStep={5}\n            placeholder={i18n.t('new.choose-start')}\n            getPopupContainer={triggerNode => {return triggerNode.parentNode}}\n\n        />\n        let rangePicker = <TimePicker.RangePicker\n            className=\"rangepicker\"\n            size=\"large\"\n            order={false}\n            onChange={this.onTimeChange.bind(this)}\n            disabledHours={this.getDisabledHours} \n            format={format}\n            placeholder={[i18n.t('new.start'), i18n.t('new.end')]}\n            hideDisabledOptions={false}\n            defaultFormat={defaultFormat}\n            minuteStep={5} \n            getPopupContainer={triggerNode => {return triggerNode.parentNode}}\n        />\n\n        let submit = <Button\n            variant=\"secondary\"\n            className={this.state.valid || this.state.empty ? \n                \"validTimespan\" : \"invalidTimespan\"}\n            onClick={this.addRoster}\n            disabled={!this.state.valid}>\n                {this.state.btn}\n        </Button>\n            \n        return (\n            <Container className=\"timePopoutContainer\">\n                <Row>\n                    {!this.state.openEnded ? rangePicker : timePicker}\n                </Row>\n                <Row>\n                    <Button\n                        onClick={this.toggleOpenEnded}\n                        variant=\"secondary\"\n                        className={this.state.openEnded ? \"warning-hover\" : \"warning\"}>\n                            {i18n.t('new.open-ended')}\n                    </Button>\n                    {submit}\n                </Row>\n            </Container>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport './DailyPopoutDay.css'\n\nexport default class DailyPopoutDay extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             checked: false,\n             active: true,\n        }\n\n        this.changeChecked = this.changeChecked.bind(this)\n        this.deactivate = this.deactivate.bind(this)\n    }\n\n    componentDidMount() {\n        let currentDate = new Date(this.props.minDate)\n        currentDate.setDate(currentDate.getDate() + this.props.dayNumber + 1)\n        if(currentDate.getTime() < this.props.serverTime) this.deactivate()\n    }\n\n    changeChecked() {\n        this.setState(prevState => {\n            return {\n                checked: !prevState.checked\n            }\n        }, () => {\n            this.props.changeCopiedDay(this.state.checked, this.props.dayNumber)\n        })\n    }\n\n    deactivate() {\n        this.setState({ active: false })   \n    }\n\n    render() {\n        return (\n            <div\n                className={`daycontainer ${this.state.active ? 'daycontaineractive' : \"\"}`}\n                onClick={this.state.active ? this.changeChecked : undefined}>\n                    {this.state.active &&\n                     <input className=\"day-inp-cbx\"\n                        id={this.props.dayNumber}\n                        type=\"checkbox\"\n                        readOnly\n                        checked={this.state.checked}\n                     />\n                    }\n                <br />\n                {this.props.weekday}\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport i18n from './../../Language/i18n'\nimport DailyPopoutDay from './DailyPopoutDay'\nimport './DailyPopoutWeek.css'\n\nexport default class DailyPopoutWeek extends Component {\n    render() {\n        let dayList = []\n\n        for(let i = 0; i < 7; i++) {\n            dayList[i] = (\n                <DailyPopoutDay\n                    key={i}\n                    serverTime={this.props.serverTime}\n                    minDate={this.props.minDate}\n                    changeCopiedDay={this.props.changeCopiedDay}\n                    dayNumber={(this.props.weekNumber * 7) + i}\n                    weekday={i18n.t('weekdays.'+i)} \n                />\n            )\n        }\n\n        return (\n            <div>\n                <br />\n                <h5>{i18n.t('week.week')} {this.props.week}</h5>\n                \n                <div className=\"dayListContainer\">\n                    {dayList}\n                </div>\n                \n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport i18n from './../../Language/i18n'\nimport DailyPopoutWeek from './DailyPopoutWeek'\n\nexport default class DailyCopyPopout extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             copiedDays: [],\n        }\n\n        this.changeCopiedDay = this.changeCopiedDay.bind(this)\n        this.saveCopies = this.saveCopies.bind(this)\n    }\n    \n\n    changeCopiedDay(shouldAdd, dayNumber) {\n        if(shouldAdd) {\n            this.setState(prevState => {\n                let newDays = prevState.copiedDays\n                newDays.push(dayNumber)\n\n                return {\n                    copiedDays: newDays\n                }\n            })\n        } else {\n            this.setState(prevState => {\n                let newDays = prevState.copiedDays.filter(\n                    value => value != dayNumber)\n\n                return {\n                    copiedDays: newDays\n                }\n            })\n        }\n    }\n\n    saveCopies() {\n        this.state.copiedDays.forEach(day => {\n            let date = new Date(this.props.minDate)\n            date = date.setDate(date.getDate() + day)\n            this.props.replaceRostersOnDate(date, this.props.rostersToCopy,\n               this.props.serverTime)\n        })\n        this.props.toggleOverlay()\n    }\n\n    render() {\n        let weekList = []\n        for(let i = 0; i < this.props.weekAmount; i++) {\n            weekList[i] = (\n                <DailyPopoutWeek\n                    key={i}\n                    week={this.props.minWeek + i}\n                    serverTime={this.props.serverTime}\n                    minDate={this.props.minDate}\n                    changeCopiedDay={this.changeCopiedDay}\n                    weekNumber={i}\n                    weekdays={this.props.weekdays}\n                    />\n            )\n        }\n\n        return (\n            <div>\n                <h2><i>{i18n.t('copy.copy-to')}</i></h2>\n                {weekList}\n\n                <br />\n                <button\n                    className=\"actionButton newButton\"\n                    type=\"button\"\n                    onClick={() => this.saveCopies()}>\n                        {i18n.t('buttons.save')}\n                </button>\n            </div>\n        )\n    }\n}\n","import * as React from \"react\";\n\n// lock\n// Ant design - MIT license\nfunction LockedIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" />\n    </svg>\n  );\n}\n\nexport default LockedIcon;\n","import * as React from \"react\";\n\n// Unlocked\n// Ant design - MIT\nfunction UnlockedIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" />\n    </svg>\n  );\n}\n\nexport default UnlockedIcon;\n","import * as React from \"react\";\n\n// trash\n// Bootstrap - MIT\nfunction TrashIcon(props) {\n  return (\n    <svg\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n      />\n    </svg>\n  );\n}\n\nexport default TrashIcon;\n","import * as React from \"react\";\n\n// Ant design - MIT\nfunction CopyIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\" />\n    </svg>\n  );\n}\n\nexport default CopyIcon;\n","import * as React from \"react\";\n\n// add\n// Google - Apache 2.0 license\nfunction PlusIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 48 48\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\" />\n    </svg>\n  );\n}\n\nexport default PlusIcon;\n","import React, { Component } from 'react'\nimport { Popover, OverlayTrigger } from 'react-bootstrap'\nimport i18n from './../../Language/i18n'\nimport RosterTime from './../RosterTime/RosterTime'\nimport TimePopout from './../TimePopout/TimePopout'\nimport DailyCopyPopout from './../DailyCopyPopout/DailyCopyPopout'\nimport LockedIcon from './../../Icons/LockedIcon'\nimport UnlockedIcon from './../../Icons/UnlockedIcon'\nimport TrashIcon from './../../Icons/TrashIcon'\nimport CopyIcon from './../../Icons/CopyIcon'\nimport PlusIcon from './../../Icons/PlusIcon'\nimport './CalendarDay.css'\n\nexport default class CalendarDay extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n             locked: false,\n             showCopy: false,\n             showNew: false\n        }\n        this.changeLocked = this.changeLocked.bind(this)\n        this.toggleCopyPopup = this.toggleCopyPopup.bind(this)\n        this.toggleNewPopup = this.toggleNewPopup.bind(this)\n    }\n\n    changeLocked() {\n        this.setState(prevState => ({\n            locked: !prevState.locked\n        }))\n    }\n\n    toggleCopyPopup() {\n        this.setState({showCopy: !this.state.showCopy})\n    }\n\n    toggleNewPopup() {\n        this.setState({showNew: !this.state.showNew})\n    }\n\n    render() {\n        let locked = this.state.locked || this.props.locked || this.props.pastDate\n        let lockIcon = locked ? <LockedIcon/> : <UnlockedIcon/>\n        let date = new Date(this.props.currentDate)\n        let finishedRosters = []\n        let futureRosters = []\n\n        this.props.dailyPlans.forEach(roster => {\n            if (roster.fldOpRLogOn === true && roster.fldOpRLogOut === true) {\n                finishedRosters.push(\n                    <li key={roster.fldOpRStartTime}>\n                        <RosterTime\n                            cssTheme={this.props.cssTheme}\n                            deleteRoster={this.props.deleteRoster}\n                            roster={roster}\n                            locked={true} />\n                    </li>\n                )\n            } else {\n                futureRosters.push(\n                <li key={roster.fldOpRStartTime}>\n                    <RosterTime\n                        cssTheme={this.props.cssTheme}\n                        deleteRoster={this.props.deleteRoster}\n                        roster={roster}\n                        locked={locked} />\n                </li>\n                )\n            }\n        })\n\n        const newPopover = (\n            <Popover className={`${this.props.cssTheme} popoverBasic`}>\n                <Popover.Content>\n                    <TimePopout\n                        toggleOverlay={this.toggleNewPopup}\n                        addRoster={this.props.addRoster}\n                        start={this.props.currentDate} \n                        end={this.props.endDate}\n                        date={date.getDate()} \n                        month={i18n.t('months.'+date.getMonth())}\n                        dailyPlans={this.props.dailyPlans}\n                    />\n                </Popover.Content>\n            </Popover>\n        )\n        \n        const copyPopover = (\n            <Popover className={`${this.props.cssTheme} popoverBasic`}>\n                <Popover.Content>\n                    <DailyCopyPopout\n                        toggleOverlay={this.toggleCopyPopup}\n                        minWeek={this.props.minWeek}\n                        serverTime={this.props.serverTime}\n                        minDate={this.props.minDate}\n                        replaceRostersOnDate={this.props.replaceRostersOnDate} \n                        rostersToCopy={this.props.dailyPlans} \n                        weekdays={this.props.weekdays} \n                        weekAmount={this.props.weekAmount} />\n                </Popover.Content>\n            </Popover>\n        )\n\n        const deleteStartTime = this.props.serverTime > this.props.currentDate ? \n            new Date(this.props.serverTime) : new Date(this.props.currentDate)\n\n        return (\n            <div className=\"dayContainer\">\n                <h3>{this.props.weekday}</h3>\n                \n                <h4>{`${date.getDate()}. ${i18n.t('months.'+date.getMonth())}`}</h4>\n                <ul>\n                    <li>\n                        <button\n                            role=\"img\"\n                            title={this.state.locked ? i18n.t('buttons.locked') : i18n.t('buttons.lock')}\n                            className=\"lockButton actionButton\"\n                            onClick={this.changeLocked}\n                            disabled={this.props.locked || this.props.pastDate}>\n                            {lockIcon}\n                        </button>\n                    </li>\n\n                    <li>\n                        <button\n                            role=\"img\"\n                            title={i18n.t('buttons.reset')}\n                            className=\"trashButton actionButton\"\n                            disabled={locked}\n                            onClick={() => this.props.deleteRostersBetweenDates(\n                                deleteStartTime, this.props.endDate)}>\n                            <TrashIcon/>\n                        </button>\n                    </li>\n                    <li>\n                        <OverlayTrigger\n                            show={this.state.showCopy}\n                            trigger=\"click\"\n                            onToggle={this.toggleCopyPopup}\n                            rootClose\n                            placement=\"bottom\"\n                            overlay={copyPopover}>\n                            <button\n                                role=\"img\"\n                                title={i18n.t('buttons.copy')}\n                                className=\"copyButton actionButton\"><CopyIcon/>\n                            </button>\n                        </OverlayTrigger>\n                    </li>\n                </ul>\n\n                <ul>\n                    {finishedRosters}\n                    {futureRosters}\n                </ul>\n\n                <OverlayTrigger\n                    show={this.state.showNew}\n                    trigger=\"click\"\n                    onToggle={this.toggleNewPopup}\n                    placement=\"bottom\" \n                    overlay={newPopover}\n                    rootClose>\n                    <button \n                        className=\"newButton actionButton\" \n                        disabled={locked}>{locked ? i18n.t('buttons.locked') : i18n.t('day.new')} <PlusIcon/>\n                    </button>\n                </OverlayTrigger>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport i18n from './../../Language/i18n'\nimport './WeeklyPopoutWeek.css'\n\nexport default class WeeklyPopoutWeek extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             checked: false,\n        }\n\n        this.changeChecked = this.changeChecked.bind(this)\n    }\n\n    changeChecked() {\n        this.setState(prevState => {\n            return {\n                checked: !prevState.checked\n            }\n        }, () => {\n            this.props.changeCopiedWeek(this.state.checked, this.props.weekNumber)\n        })\n    }\n    \n\n    render() {\n        return (\n            <div\n                className=\"weekContainerPopout\"\n                onClick={this.changeChecked}>\n                <input\n                    className=\"week-inp-cbx\"\n                    type=\"checkbox\"\n                    checked={this.state.checked}\n                    readOnly\n                />\n                <span>\n                    {i18n.t('week.week')} {this.props.week}\n                </span>     \n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport i18n from './../../Language/i18n'\nimport WeeklyPopoutWeek from './WeeklyPopoutWeek'\n\nexport default class WeeklyCopyPopout extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             copiedWeeks: [],\n        }\n\n        this.changeCopiedWeek = this.changeCopiedWeek.bind(this)\n        this.saveCopies = this.saveCopies.bind(this)\n    }\n    \n    changeCopiedWeek(shouldAdd, weekNumber) {\n        if (shouldAdd) {\n            this.setState(prevState => {\n                let newWeeks = prevState.copiedWeeks\n                newWeeks.push(weekNumber)\n\n                return {\n                    copiedWeeks: newWeeks\n                }\n            })\n        } else {\n            this.setState(prevState => {\n                let newWeeks = prevState.copiedWeeks.filter(\n                    value => value != weekNumber)\n\n                return {\n                    copiedWeeks: newWeeks\n                }\n            })\n        }\n    }\n\n    saveCopies() {\n        this.state.copiedWeeks.forEach(week => {\n            let date = new Date(this.props.minDate)\n            date = date.setDate(date.getDate() + (week * 7))\n            this.props.replaceRostersOnWeek(date, this.props.rostersToCopy,\n                this.props.serverTime)\n        })\n        this.props.toggleOverlay()\n    }\n\n    render() {\n        let weekList = []\n            for(let i = 0; i < this.props.weekAmount; i++) {\n                weekList[i] = (\n                    <WeeklyPopoutWeek\n                        key={i}\n                        week={this.props.minWeek + i}\n                        serverTime={this.props.serverTime}\n                        minDate={this.props.minDate}\n                        changeCopiedWeek={this.changeCopiedWeek} \n                        weekNumber={i}\n                    />\n                )\n            }\n        return (\n            <div>\n                <h3><i>{i18n.t('copy.copy-to')}</i></h3>\n                {weekList}\n                <button\n                    className=\"actionButton newButton\"\n                    onClick={() => this.saveCopies()}>\n                        {i18n.t('buttons.save')}\n                </button>\n            </div>\n        )\n    }\n}\n","import * as React from \"react\";\n\n// Maximize-2\n// Feathericons - MIT license\nfunction MaximizeIcon(props) {\n  return (\n    <svg\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      viewBox=\"0 0 24 24\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\" />\n    </svg>\n  );\n}\n\nexport default MaximizeIcon;\n","import * as React from \"react\";\n\n// Minimize-2\n// Feathericons - MIT license\nfunction MinimizeIcon(props) {\n  return (\n    <svg\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      viewBox=\"0 0 24 24\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M4 14h6v6M20 10h-6V4M14 10l7-7M3 21l7-7\" />\n    </svg>\n  );\n}\n\nexport default MinimizeIcon;\n","import * as React from \"react\";\n\n// Ant design - MIT\n// double-left\nfunction DoubleLeftIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z\" />\n    </svg>\n  );\n}\n\nexport default DoubleLeftIcon;\n","import * as React from \"react\";\n\n// Ant design - MIT\n// double-right\nfunction DoubleRightIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z\" />\n    </svg>\n  );\n}\n\nexport default DoubleRightIcon;\n","import * as React from \"react\";\n\n// Ant design - MIT\n// save\nfunction SaveIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z\" />\n    </svg>\n  );\n}\n\nexport default SaveIcon;\n","import React, { Component } from 'react'\nimport { Button, OverlayTrigger, Popover } from 'react-bootstrap'\nimport i18n from './../../Language/i18n'\nimport CalendarDay from './../CalendarDay/CalendarDay'\nimport WeeklyCopyPopout from './../WeeklyCopyPopout/WeeklyCopyPopout'\nimport CopyIcon from './../../Icons/CopyIcon'\nimport TrashIcon from './../../Icons/TrashIcon'\nimport MaximizeIcon from './../../Icons/MaximizeIcon'\nimport MinimizeIcon from './../../Icons/MinimizeIcon'\nimport LockedIcon from './../../Icons/LockedIcon'\nimport UnlockedIcon from './../../Icons/UnlockedIcon'\nimport DoubleLeftIcon from './../../Icons/DoubleLeftIcon'\nimport DoubleRightIcon from './../../Icons/DoubleRightIcon'\nimport SaveIcon from './../../Icons/SaveIcon'\nimport './CalendarWeek.css'\n\nexport default class CalendarWeek extends Component {\n    constructor(props) {\n        super(props)\n        this.scrollRef = React.createRef()\n        \n        this.state = {\n            minimized: false,\n            locked: false,\n            showCopy: false\n        }\n\n        this.changeMinimized = this.changeMinimized.bind(this)\n        this.changeLocked = this.changeLocked.bind(this)\n        this.handleScrolling = this.handleScrolling.bind(this)\n        this.toggleCopyPopup = this.toggleCopyPopup.bind(this)\n\n    }\n\n    changeMinimized() {\n        this.setState(prevState => ({\n            minimized: !prevState.minimized\n        }))\n    }\n    \n    changeLocked() {\n        this.setState(prevState => ({\n            locked: !prevState.locked\n        }))\n    }\n\n    handleScrolling(direction) {\n        if (direction === 'left') {\n            this.scrollRef && this.scrollRef.current ? \n                (this.scrollRef.current.scrollBy({\n                    left: -300, top: 0, behavior: 'smooth'})) : null;\n        } else {\n            this.scrollRef && this.scrollRef.current ?\n                (this.scrollRef.current.scrollBy({\n                    left: 300, top: 0, behavior: 'smooth'})) : null;\n        }\n    }\n\n    // https://weeknumber.net/how-to/javascript\n    getWeek(date) {\n        date.setHours(0,0,0,0)\n        date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7)\n        let week1 = new Date(date.getFullYear(), 0, 4)\n\n        return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000\n        - 3 + (week1.getDay() + 6) % 7) / 7)\n    }\n\n    toggleCopyPopup() {\n        this.setState({showCopy: !this.state.showCopy})\n    }\n\n    render() {\n        let dayList = []\n        for(let i = 0; i < 7; i++) {\n            let currentDate = new Date(this.props.startDate)\n            currentDate.setDate(currentDate.getDate() + i)\n            let endDate = new Date(this.props.endDate)\n            endDate.setDate(endDate.getDate() - (6 - i))\n            dayList[i] = <CalendarDay \n                key={i}\n                deleteRostersBetweenDates={this.props.deleteRostersBetweenDates}\n                minWeek={this.getWeek(new Date(this.props.minDate))}\n                serverTime={this.props.serverTime}\n                cssTheme={this.props.cssTheme}\n                minDate={this.props.minDate}\n                pastDate={this.props.serverTime > endDate}\n                replaceRostersOnDate={this.props.replaceRostersOnDate}\n                weekAmount={this.props.weekAmount} \n                locked={this.state.locked} \n                addRoster={this.props.addRoster} \n                deleteRoster={this.props.deleteRoster} \n                currentDate={currentDate.getTime()} \n                endDate={endDate.getTime()} \n                weekday={i18n.t('weekdays.'+i)} \n                dailyPlans={this.props.weeklyRoster[i]} />\n        }\n\n        let dayWrapper = <div ref={this.scrollRef}\n                className={`dayWrapper ${this.state.locked ? \"locked\" : \"unlocked\"}`}> \n                {dayList}\n            </div>\n        \n        // Minimize / expand button state\n        let minimized;\n        if (this.state.minimized) {\n            minimized = [<MaximizeIcon key=\"1\" className=\"headerIcon\"/>, <span key=\"2\">{i18n.t('week.expand')}</span>]\n        } else {\n            minimized = [<MinimizeIcon key=\"1\" className=\"headerIcon\"/>, <span key=\"2\">{i18n.t('week.minimize')}</span>]\n        }\n\n        // Locked / unlocked button state\n        let lock;\n        if (this.state.locked) {\n            lock = [<LockedIcon key=\"1\" className=\"headerIcon\"/>, <span key=\"2\">{i18n.t('buttons.locked')}</span>]\n        } else {\n            lock = [<UnlockedIcon key=\"1\" className=\"headerIcon\"/>, <span key=\"2\">{i18n.t('buttons.lock')}</span>]\n        }\n\n        const copyPopover = (\n            <Popover id=\"popover-basic\" className={this.props.cssTheme}>\n                <Popover.Content>\n                    <WeeklyCopyPopout \n                        toggleOverlay={this.toggleCopyPopup}\n                        minWeek={this.getWeek(new Date(this.props.minDate))}\n                        weekAmount={this.props.weekAmount}\n                        rostersToCopy={this.props.weeklyRoster}\n                        replaceRostersOnWeek={this.props.replaceRostersOnWeek}\n                        minDate={this.props.minDate}\n                        serverTime={this.props.serverTime}/>\n                </Popover.Content>\n            </Popover>\n        )\n\n        const deleteStartDate = (\n            this.props.serverTime > this.props.startDate ? \n            new Date(this.props.serverTime) : new Date(this.props.startDate)\n        )\n\n        return (\n            <div className=\"weekContainer\">\n                <div className=\"weekHeader\">\n                    <h2>{i18n.t('week.week')} {this.getWeek(new Date(this.props.startDate))}</h2>\n                    <Button\n                        role=\"img\"\n                        title={i18n.t('buttons.reset')}\n                        variant=\"secondary\"\n                        disabled={this.state.locked} \n                        onClick={() => this.props.deleteRostersBetweenDates(deleteStartDate, this.props.endDate)}>\n                        <TrashIcon className=\"headerIcon\"/><span>{i18n.t('buttons.reset')}</span>\n                    </Button>\n\n                    <OverlayTrigger\n                        show={this.state.showCopy}\n                        onToggle={this.toggleCopyPopup}\n                        trigger=\"click\"\n                        rootClose\n                        placement=\"bottom\"\n                        overlay={copyPopover}>\n                        <Button\n                            role=\"img\"\n                            title={i18n.t('buttons.copy')}\n                            variant=\"secondary\">\n                            <CopyIcon className=\"headerIcon\"/>\n                            <span>{i18n.t('buttons.copy')}</span>\n                        </Button>\n                    </OverlayTrigger>\n\n                    <Button\n                        role=\"img\"\n                        title={this.state.locked ? i18n.t('buttons.locked') : i18n.t('buttons.lock')}\n                        variant=\"secondary\"\n                        onClick={this.changeLocked}>{lock}\n                    </Button>\n\n                    <Button\n                        role=\"img\"\n                        title={i18n.t('buttons.save')}\n                        variant=\"secondary\"\n                        onClick={this.props.toggleSaveModal}>\n                        <SaveIcon className=\"headerIcon\"/>\n                        <span>{i18n.t('buttons.save')}</span>\n                    </Button> \n\n                    <Button\n                        role=\"img\"\n                        title={this.state.minimized ? i18n.t('week.expand') : \n                                i18n.t('week.minimize')}\n                        variant=\"secondary\"\n                        onClick={this.changeMinimized}>{minimized}\n                    </Button>\n\n                    <Button\n                        role=\"img\"\n                        className=\"navigate\"\n                        title={i18n.t('week.scroll-left-title')}\n                        onClick={() => this.handleScrolling('left')}\n                        variant=\"secondary\">\n                        <DoubleLeftIcon className=\"headerIcon\"/>\n                    </Button>\n\n                    <span className=\"navigate\">{i18n.t('week.navigate')}</span>\n\n                    <Button\n                        role=\"img\"\n                        className=\"navigate\"\n                        title={i18n.t('week.scroll-right-title')}\n                        onClick={() => this.handleScrolling('right')}\n                        variant=\"secondary\">\n                        <DoubleRightIcon className=\"headerIcon\"/>\n                    </Button>\n                </div>\n                {!this.state.minimized && dayWrapper}\n            </div>\n        )\n    }\n}\n","import * as React from \"react\";\n\n// Ant design icons - MIT\nfunction CaretDownIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z\" />\n    </svg>\n  );\n}\n\nexport default CaretDownIcon;\n","import React, { Component } from 'react'\nimport { Accordion, Button, Card, Modal, Form } from 'react-bootstrap'\nimport i18n from './../../Language/i18n'\nimport CaretDownIcon from './../../Icons/CaretDownIcon'\nimport './SaveModal.css'\n\nexport default class SaveModal extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            defaultClose: true\n        }\n        this.handleSave = this.handleSave.bind(this)\n        this.handleDefaultClose = this.handleDefaultClose.bind(this)\n    }\n\n    handleDefaultClose() {\n        this.setState({defaultClose: !this.state.defaultClose})\n    }\n\n    handleSave() {\n        this.setState({loading: true})\n        this.props.saveRosters().then(async response => {\n            let msg = await response.text()\n            if (response.status == 201 || response.status == 200) {\n                if (this.state.defaultClose) this.props.toggleModal()\n                // SaveRoster > 201; DeleteRoster > 200\n                let status = response.status + \" - \"+response.statusText\n                this.setState({success: true, status: status})\n                this.props.getRosters(null, null)\n            } else {\n                let status = response.status + \" - \"+response.statusText\n                this.setState({status: status})\n            }\n            this.setState({loading: false, message: msg})\n        })\n    }\n\n    render() {\n        let body = [<p key=\"1\">{i18n.t('save.intro-title')}</p>,\n                        <p key=\"2\">{i18n.t('save.intro-subtitle')}</p>]\n        if (this.state.success && this.state.status) {\n            body = [<p key=\"1\">{i18n.t('save.save-successful')}</p>,\n                        <p key=\"2\">{i18n.t('save.code')} {this.state.status}</p>]\n        } else if (this.state.status && !this.state.success) {\n            body = [<p key=\"1\">{i18n.t('save.save-failed')}</p>,\n                        <p key=\"2\">{i18n.t('save.code')} {this.state.status}</p>]\n        } else if (this.state.loading) {\n            body = [<p className=\"loading\" key=\"1\">{i18n.t('save.loading-title')}</p>,\n                    <p key=\"2\">{i18n.t('save.loading-subtitle')}</p>]\n        }\n\n        let message = \n            <Accordion>\n                <Card>\n                    <Accordion.Toggle as={Card.Header} eventKey=\"0\">\n                    {i18n.t('save.details')}<CaretDownIcon />\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey=\"0\">\n                        <Card.Body>{this.state.message}</Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n            </Accordion>\n\n        let defaultClose = (\n            <Form>\n                <Form.Check\n                    id=\"defaultCloseCheck\"\n                    onChange={this.handleDefaultClose}\n                    type=\"checkbox\"\n                    checked={this.state.defaultClose}\n                    label={i18n.t('save.if-successful')}/>\n            </Form>\n        )\n        \n\n        return (\n            <Modal className={`saveModal ${this.props.cssTheme}`}\n                show={this.props.show}\n                onHide={this.props.toggleModal} >\n\n                <Modal.Header closeButton>\n                    <Modal.Title>{i18n.t('save.header')}</Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    {body}\n                    {this.state.message && message}\n                </Modal.Body>\n\n                <Modal.Footer>\n                    {defaultClose}\n                    <Button\n                        className={this.state.success ? \"success\" : \"confirm\"}\n                        disabled={this.state.success || this.state.loading }\n                        variant=\"secondary\"\n                        onClick={this.handleSave}>\n                        {this.state.success ? i18n.t('save.saved') : i18n.t('save.save')}\n                        </Button>\n\n                    <Button\n                        className=\"error\"\n                        disabled={this.state.loading}\n                        variant=\"secondary\"\n                        onClick={this.props.toggleModal}>\n                        {i18n.t('buttons.close')}\n                        </Button>\n\n                </Modal.Footer>\n            </Modal>\n        )\n    }\n}\n","import React, {Component} from 'react'\nimport { Button } from 'react-bootstrap' \nimport { Redirect, Switch, Route, Link } from \"react-router-dom\"\nimport Spinner from 'react-spinkit'\nimport i18n from './../Language/i18n'\nimport CalendarWeek from './CalendarWeek/CalendarWeek'\nimport SaveIcon from './../Icons/SaveIcon'\nimport SaveModal from './SaveModal/SaveModal'\nimport './Calendar.css'\n\n\nexport default class Calendar extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            serverTime: null,\n            minDate: null,\n            maxDate: null,\n            weekAmount: 4,\n            showSaveModal: false,\n            saves: 0\n        }\n        this.toggleSaveModal = this.toggleSaveModal.bind(this)\n    }\n\n    componentDidMount() {\n        const url = this.props.baseUrl+'servertime'\n        const options = {\n            mode: 'cors',\n            headers: {'Access-Control-Allow-Origin':'*'}\n        }\n        fetch(url, options)\n            .then(async response => {\n                const data = await response.text()\n                if(!response.ok) {\n                    const error = (data && data.message) || response.status\n                    return Promise.reject(error)\n                }\n\n                let minMaxDates = this.calcMinMaxDates(data, this.props.minHour,\n                    this.props.maxHour, this.state.weekAmount)\n                this.setState({serverTime: new Date(data),\n                               minDate: minMaxDates[0],\n                               maxDate: minMaxDates[1]})\n            })\n            .catch(error => {\n                console.log(error)\n            }) \n\n        document.title = i18n.t('title.calendar')\n    }\n\n    // Helper method used to determine which week will be the first displayed in the calendar\n    // The roll should occur when last week's max time is passed\n    calcMinMaxDates(serverTime, minHour, maxHour, weekAmount) {\n        let maxDate = new Date(serverTime)\n        serverTime = new Date(serverTime)\n\n        // Setting max date to the first sunday\n        const weekdayAdjustment = maxDate.getDay() == 0 ? 0 : 7\n\n        maxDate.setDate(maxDate.getDate() + weekdayAdjustment - maxDate.getDay())\n        maxDate.setHours(maxHour)\n        maxDate.setMinutes(0)\n        maxDate.setSeconds(0)\n\n        // In case workday spans past midnight\n        const pastMidnight = maxHour > 0 && maxHour <= minHour\n        if (pastMidnight) maxDate.setDate(maxDate.getDate() + 1)\n\n        // Creating min date (monday) by cloning max date and subtracting 1 week\n        let minDate = new Date(maxDate)\n        minDate.setDate(minDate.getDate() - 7)\n\n        while (minDate.getHours() != minHour)\n            minDate.setHours(minDate.getHours() + 1) \n        \n        // Adjusting min/max for time scenarios\n        let maxDatePrev = new Date(maxDate)\n        maxDatePrev.setDate(maxDatePrev.getDate() - 7)\n        if (serverTime < maxDatePrev) {\n            minDate.setDate(minDate.getDate() - 7)\n            maxDate.setDate(maxDate.getDate() - 7)\n        } else if (serverTime > maxDate) {\n            minDate.setDate(minDate.getDate() + 7)\n            maxDate.setDate(maxDate.getDate() + 7)\n        }\n        // Finally, adding extra weeks after the first\n        maxDate.setDate(maxDate.getDate() + 7 * (weekAmount-1))\n        \n        return [minDate, maxDate]\n    }\n\n    componentWillUnmount() {\n        // fix Warning: Can't perform a React state update on an unmounted component\n        this.setState = (state, callback) => {\n            return;\n        };\n    }\n\n    toggleSaveModal() {\n        let show = this.state.showSaveModal\n        this.setState({showSaveModal: !show})\n        // Resetting SaveModal\n        if (!show) this.setState({saves: this.state.saves+1})\n    }\n\n    render() { \n        let rostersInWeeks = []\n\n        if(this.state.serverTime != null && this.state.minDate != null \n            && this.state.maxDate != null) {\n            for(let i = 0; i < this.state.weekAmount; i++) {\n                let weeklyRoster = []\n                let min = new Date(this.state.minDate)\n                let max = new Date(this.state.maxDate)\n                min.setDate(min.getDate() + (7 * i))\n                max.setDate(max.getDate() - (7 * (this.state.weekAmount - 1 - i)))\n\n                // Add dailyplans\n                for(let j = 0; j < 7; j++) {\n                    let dayMin = new Date(min)\n                    let dayMax = new Date(max)\n                    dayMin.setDate(dayMin.getDate() + j)\n                    dayMax.setDate(dayMax.getDate() - 6 + j)\n\n                    weeklyRoster[j] = this.props.rosters.filter(roster => {\n                        let start = new Date(roster.fldOpRStartDate)\n                        let time = new Date(roster.fldOpRStartTime)\n                        start.setHours(time.getHours())\n                        start.setMinutes(time.getMinutes())\n                        start.setSeconds(time.getSeconds())\n                        \n                        return start.getTime() >= dayMin.getTime() && \n                                start.getTime() <= dayMax.getTime()\n                    })\n                }\n\n                rostersInWeeks[i] = <CalendarWeek \n                    key={i} \n                    deleteRostersBetweenDates={this.props.deleteRostersBetweenDates}\n                    serverTime={this.state.serverTime}\n                    minDate={this.state.minDate}\n                    cssTheme={this.props.cssTheme}\n                    replaceRostersOnWeek={this.props.replaceRostersOnWeek}\n                    replaceRostersOnDate={this.props.replaceRostersOnDate}\n                    weekAmount={this.state.weekAmount} \n                    addRoster={this.props.addRoster} \n                    saveRosters={this.props.saveRosters}\n                    deleteRoster={this.props.deleteRoster} \n                    toggleSaveModal={this.toggleSaveModal}\n                    weeklyRoster={weeklyRoster}\n                    startDate={min} \n                    endDate={max} />\n            }\n        }\n\n        const saveModal = (\n            <SaveModal\n                key={this.state.saves}\n                show={this.state.showSaveModal}\n                toggleModal={this.toggleSaveModal}\n                saveRosters={this.props.saveRosters}\n                getRosters={this.props.getRosters}\n                cssTheme={this.props.cssTheme}\n            />\n        )\n\n        const saveButton = (\n            <Button\n                variant=\"success\"\n                onClick={this.toggleSaveModal}\n                id=\"saveButton\">\n                    <SaveIcon/>{i18n.t('buttons.save')}\n            </Button>\n        )\n\n        return (\n            <div id=\"calendar\" role=\"main\">\n                {this.state.serverTime === null ?\n                    <div className=\"loader\"><Spinner name=\"three-bounce\"/></div> :\n                    <div className=\"weekWrapper\">\n                        {rostersInWeeks}\n                        {saveButton}\n                        {saveModal}\n                    </div>\n                }\n            </div>\n        )\n    }\n}","import React from 'react'\nimport { Form, Button, Container, Row, Col } from 'react-bootstrap'\nimport i18n from './../Language/i18n'\n\nexport default function LoginPhone(props) {\n    return (\n        <div>\n            <Form>\n                <Form.Group>\n                    <Form.Control\n                        aria-label=\"input phone number\"\n                        type=\"phone\"\n                        name=\"phone\"\n                        value={props.phoneNumber}\n                        placeholder={i18n.t('login.input-phone')}\n                        onChange={(event) => props.handleChange(event)} \n                    />\n                </Form.Group>\n                <Container>\n                    <Row noGutters=\"true\" className=\"justify-content-center\">\n                        <Col xs=\"auto\" sm=\"auto\">\n                            <Button\n                                type=\"submit\"\n                                name=\"sendSMS\"\n                                onClick={(event) => props.handleNextClick(event)}>\n                                    {i18n.t('login.send-sms')}\n                            </Button>\n                        </Col>\n                    </Row>\n                </Container>\n                \n            </Form>\n        </div>\n    )\n}\n","import React from 'react';\nimport { Form, Button, Container, Row, Col } from 'react-bootstrap'\nimport i18n from './../Language/i18n'\n\nexport default function LoginCode(props) {\n    return (\n        <div>\n            <Form>\n                <Form.Group>\n                    <Form.Text>{i18n.t('login.code-sent')} {props.phone}</Form.Text>\n                    <Form.Control\n                        aria-label=\"input code\"\n                        type=\"text\"\n                        name=\"code\"\n                        autoComplete=\"off\"\n                        placeholder={i18n.t('login.input-code')}\n                        onChange={(event) => props.handleChange(event)} \n                    />\n                </Form.Group>\n                <Container>\n                    <Row\n                        noGutters=\"true\"\n                        className=\"justify-content-center\">\n                        <Col xs=\"auto\" sm=\"auto\">\n                            <Button\n                                className=\"backButton\"\n                                onClick={(event) => props.handleBackClick(event)}\n                                type=\"button\"\n                                variant=\"primary\">\n                                {i18n.t(\"buttons.back\")}\n                            </Button>\n                        </Col>\n                        <Col xs=\"auto\" sm=\"auto\"> \n                            <Button\n                                float=\"center\"\n                                variant=\"primary\"\n                                type=\"submit\"\n                                name=\"login\"\n                                onClick={(event) => props.handleNextClick(event)}>\n                                    {i18n.t('login.login')}\n                            </Button>\n                        </Col>\n                    </Row>\n                </Container>\n            </Form>\n        </div>\n    )\n}\n","import * as React from \"react\";\n\nfunction SettingsIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 512 512\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth={32}\n        d=\"M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z\"\n      />\n    </svg>\n  );\n}\n\nexport default SettingsIcon;\n","import React, {Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { Container, Row, Col, Toast, Dropdown, DropdownButton } from 'react-bootstrap'\nimport i18n from './../Language/i18n'\nimport Spinner from 'react-spinkit'\nimport LoginPhone from './LoginPhone'\nimport LoginCode from './LoginCode'\nimport SettingsIcon from './../Icons/SettingsIcon'\nimport './Login.css'\n\n\nexport default class Login extends Component {\n    constructor() {\n        super()\n\n        this.state = {\n            onCodePage: false,\n            phone: '',\n            code: '',\n            loading: false,\n            invalidPhone: false,\n            invalidCode: false,\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.handleNextClick = this.handleNextClick.bind(this)\n        this.handleBackClick = this.handleBackClick.bind(this)\n    }\n\n    componentDidMount() {\n        this.getServices()\n        document.title = i18n.t('title.login')\n    }\n\n    handleChange(event) {\n        const {name, value} = event.target\n        this.setState({ [name]: value })\n    }\n\n    handleNextClick(event) {\n        const {name} = event.target\n        event.preventDefault()\n        if(name === 'sendSMS') this.sendPhone()\n        else if(name === 'login') this.sendCode()\n    }\n\n    handleBackClick(event) {\n        this.setState({onCodePage: false})\n    }\n\n    getServices() {\n        this.setState({loading: true})\n        let url = `${this.props.baseUrl}tables/service`\n        let options = {\n\t\t\tmode: 'cors',\n\t\t\theaders: {'Access-Control-Allow-Origin': '*'}\n\t\t}\n        fetch(url, options)\n                .then(async response => {\n                    this.setState({loading: false})\n                    const data = await response.json()\n                    if (response.status == 200) {\n                        this.props.setServices(data)\n                    } else {\n                        const error = (data && data.message) || response.status\n                        return Promise.reject(error)\n                    }\n                })\n                .catch(error => {\n                    this.setState({loading: false})\n                    console.log(error)\n                }) \n    }\n\n\n    sendPhone() {\n        this.setState({loading: true})\n        let url = `${this.props.baseUrl}auth/send-sms-code/`\n        let options = {\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({phone: this.state.phone, service: this.props.service})\n\t\t}\n        fetch(url, options)\n                .then(async response => {\n                    this.setState({loading: false})\n\n                    const data = await response.json()\n                    if (response.status == 200) {\n                        this.setState({invalidPhone: false, onCodePage: true})\n                    } else if (response.status == 404) {\n                        this.setState({invalidPhone: true})\n                    } else {\n                        const error = (data && data.message) || response.status\n                        return Promise.reject(error)\n                    }\n                })\n                .catch(error => {\n                    this.setState({loading: false})\n                    console.log(error)\n                }) \n    }\n\n    sendCode() {\n        this.setState({loading: true})\n        let url = `${this.props.baseUrl}auth/check-sms-code/`\n        let options = {\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Access-Control-Allow-Origin':'*',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({phone: this.state.phone, code: this.state.code})\n\t\t}\n        fetch(url, options)\n                .then(async response => {\n                    this.setState({loading: false})\n                    const data = await response.json()\n                    if (response.status == 200) {\n                        this.props.setAuthenticated({jwt: data.token, opServId: data.id})\n                        // given as args because state can be slow to update\n                        this.props.getRosters(data.id, data.token) \n                    } else if (response.status == 400 || response.status == 401) {\n                        this.setState({invalidCode: true})\n                    } else {\n                        const error = (data && data.message) || response.status\n                        return Promise.reject(error)\n                    }\n                })\n                .catch(error => {\n                    this.setState({loading: false})\n                    console.log(error)\n                }) \n    }\n\n    createToast() {\n        let msg = ''\n        if (this.state.invalidPhone) {  \n            msg = i18n.t('login.phone-invalid')\n        } else if (this.state.invalidCode) {\n            msg = 'Den oppgitte koden er ugyldig'\n        }\n        return (\n            <Toast show={this.state.invalidCode || this.state.invalidPhone}>\n                <Toast.Body>\n                    {msg}\n                </Toast.Body>\n            </Toast>\n        )\n    }\n    \n    render() {\n        let loginComponent\n        if (this.state.onCodePage) {\n            loginComponent = <LoginCode \n                    phone={this.state.phone} \n                    handleChange={this.handleChange} \n                    handleNextClick={this.handleNextClick}\n                    handleBackClick={this.handleBackClick}\n                />\n        } else {\n            loginComponent = <LoginPhone\n                    phoneNumber={this.state.phone}\n                    handleChange={this.handleChange} \n                    handleNextClick={this.handleNextClick}\n                />\n        }\n\n        const spinner = <div className=\"loader\">\n            <Spinner name=\"three-bounce\"/>\n            </div>\n\n        let content = (\n            <div>\n                <Row noGutters=\"true\" className=\"justify-content-center\">\n                    <Col xs=\"auto\" sm=\"auto\">{this.state.loading ? spinner : loginComponent}</Col>\n                </Row> \n            </div>\n        )\n        \n        let servicesMenu = [\n            <Dropdown.Item key=\"1\" disabled={true}>{i18n.t('login.menu-service')}\n            </Dropdown.Item>,\n            this.props.services ? Object.entries(this.props.services).map( ([k, v]) =>\n                <Dropdown.Item\n                    key={k}\n                    disabled={this.state.onCodePage}\n                    onClick={() => this.props.handleServiceChange(k)}>{k}\n                </Dropdown.Item>) : null,\n            <Dropdown.Divider key=\"2\" />\n        ]\n        \n        let menu = (\n            <DropdownButton\n                disabled={this.state.loading}\n                variant=\"secondary\"\n                className=\"loginMenu\"\n                title={<SettingsIcon />}>\n                {!this.state.onCodePage ? servicesMenu : null}\n                <Dropdown.Item disabled={true}>{i18n.t('login.menu-language')}</Dropdown.Item>\n                <Dropdown.Item onClick={() => this.props.handleLangChange(\"en\")}>English</Dropdown.Item>\n                <Dropdown.Item onClick={() => this.props.handleLangChange(\"sw\")}>Svenska (N/A)</Dropdown.Item>\n                <Dropdown.Item onClick={() => this.props.handleLangChange(\"no\")}>Norsk</Dropdown.Item>\n            </DropdownButton>\n        )\n        const toast = this.createToast()\n\n        return (\n            <div className=\"login\">\n                {this.props.authenticated && <Redirect to=\"/home\" />}\n                <Container\n                    role=\"main\">\n                    <Row\n                        role=\"banner\"\n                        noGutters=\"true\"\n                        className=\"justify-content-center\">\n                        <Col\n                            alt=\"service logo\"\n                            className=\"logo\"\n                            xs=\"auto\"\n                            sm=\"auto\">\n                        </Col>\n                    </Row>\n                    {content}\n                    <Row\n                        role=\"form\"\n                        noGutters=\"true\"\n                        className=\"justify-content-center\">\n                        <Col xs=\"auto\" sm=\"auto\">\n                            {toast}\n                        </Col>\n                    </Row>\n                </Container>\n                {menu}\n            </div>\n        )\n    }\n}","export default __webpack_public_path__ + \"static/media/week-reset.d4005b8b.PNG\";","import React, { Component } from 'react'\nimport WeekResetImage from './../../../assets/images/week-reset.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekReset extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Image src={WeekResetImage} alt=\"Image of weekbox\" width={200} />\n                </Col>\n                <Col>\n                    <b><i>Nullstillknappen</i></b> brukes for å slette alle vaktene som er registrert på den angitte uken\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/week-copy.46a64bac.PNG\";","import React, { Component } from 'react'\nimport WeekCopyImage from './../../../assets/images/week-copy.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekCopy extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Image src={WeekCopyImage} alt=\"Image of weekbox\" width={200}/>\n                </Col>\n                <Col>\n                    <b><i>Kopieringsknappen</i></b> brukes for å duplisere vaktene i den angitte uken over til andre uker. \n                    Mer om kopiering lenger ned.\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/week-lock-locked.b8586765.PNG\";","export default __webpack_public_path__ + \"static/media/week-lock-unlocked.5f54214f.PNG\";","import React, { Component } from 'react'\nimport WeekLockLocked from './../../../assets/images/week-lock-locked.PNG'\nimport WeekLockUnlocked from './../../../assets/images/week-lock-unlocked.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekLock extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Container>\n                        <Row><Image src={WeekLockUnlocked} alt=\"Image of weekbox\" width={200}/></Row>\n                        <Row><Image src={WeekLockLocked} alt=\"Image of weekbox\" width={200}/></Row>\n                    </Container>\n\n                </Col>\n                <Col>\n                    <b><i>Låseknappen</i></b> brukes for å deaktivere muligheten for å gjøre endringer i\n                    den angitte uken frem til låseknappen trykkes på igjen. Dette kan brukes for\n                    for å forsikre at ingen uønskede endringer blir gjort.\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/week-save.8bcc2da2.PNG\";","import React, { Component } from 'react'\nimport WeekSaveImage from './../../../assets/images/week-save.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekSave extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Image src={WeekSaveImage} alt=\"Image of weekbox\" width={200}/>\n                </Col>\n                <Col>\n                    <b><i>Lagreknappen</i></b> brukes for å lagre de endrede vaktene til databasen.\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/week-minimize.080b5581.PNG\";","export default __webpack_public_path__ + \"static/media/week-expand.01b17118.PNG\";","import React, { Component } from 'react'\nimport WeekMinimizeImage from './../../../assets/images/week-minimize.PNG'\nimport WeekMaximizeImage from './../../../assets/images/week-expand.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekMinimize extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Container>\n                        <Row><Image src={WeekMinimizeImage} alt=\"Image of weekbox\" width={200}/></Row>\n                        <Row><Image src={WeekMaximizeImage} alt=\"Image of weekbox\" width={200}/> </Row>\n                    </Container>\n                </Col>\n                <Col>\n                    <b><i>Minimiseringsknappen</i></b> brukes for å forminske en ukeboks slik at det blir mer \n                    plass til de andre ukeboksene.\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/week-navigate.e069926d.PNG\";","import React, { Component } from 'react'\nimport WeekNavigateImage from './../../../assets/images/week-navigate.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekNavigate extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Image src={WeekNavigateImage} alt=\"Image of weekbox\" width={200}/>\n                </Col>\n                <Col>\n                    <b><i>Navigeringsknappene</i></b> brukes for å bevege seg mellom ukedagene hvis skjermen er for\n                    liten til å vise alle på en gang.\n                </Col>\n            </Row>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nimport WeekReset from './Buttons/WeekReset'\nimport WeekCopy from './Buttons/WeekCopy'\nimport WeekLock from './Buttons/WeekLock'\nimport WeekSave from './Buttons/WeekSave'\nimport WeekMinimize from './Buttons/WeekMinimize'\nimport WeekNavigate from './Buttons/WeekNavigate'\n\nimport { Container, Row, Col } from 'react-bootstrap'\n\nexport default class WeekButtons extends Component {\n    render() {\n        return (\n            <div>\n                <Row>\n                    <h3>Ukesknapper</h3>\n                </Row>\n                \n                <WeekReset />\n                <br />\n                <WeekCopy />\n                <br />\n                <WeekLock />\n                <br />\n                <WeekSave />\n                <br />\n                <WeekMinimize />\n                <br />\n                <WeekNavigate />\n            </div>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/registration-week-box.e634a7bf.PNG\";","import React, { Component } from 'react'\nimport WeekButtons from './WeekButtons'\nimport WeekImage from './../../assets/images/registration-week-box.PNG'\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekBox extends Component {\n    render() {\n        return (\n            <div>\n                <Row>\n                    <h2>Ukesregistrering</h2>\n                </Row>\n\n                <Row>\n                    <Image src={WeekImage} alt=\"Image of weekbox\" fluid/>\n                </Row>\n                \n                <Row>\n                    Vaktregistrering er delt inn i forskjellige uker, som videre er delt inn i\n                    forskjellige dager. Øverst i ukeboksene, og i dagsboksene finner man \n                    knapper som brukes for å modifisere vaktene.\n                </Row>\n\n                <br />\n                <WeekButtons />\n            </div>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/day-lock-unlocked.9af8472b.PNG\";","export default __webpack_public_path__ + \"static/media/day-lock-locked.e36b2b15.PNG\";","import React, { Component } from 'react'\nimport DayLockUnlocked from './../../../assets/images/day-lock-unlocked.PNG'\nimport DayLockLocked from './../../../assets/images/day-lock-locked.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class DayLock extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Container>\n                        <Row><Image src={DayLockUnlocked} alt=\"Image of unlocked day lock icon\" height={75} /></Row>\n                        <Row><Image src={DayLockLocked} alt=\"Image of llocked day lock icon\" height={75} /></Row>\n                    </Container>\n\n                </Col>\n                <Col>\n                    <b><i>Låseknappen</i></b> i dagsboksene brukes for å deaktivere funksjonaliteten for den angitte datoen.\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/day-reset.7450446e.PNG\";","import React, { Component } from 'react'\nimport DayResetImage from './../../../assets/images/day-reset.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class DayReset extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Image src={DayResetImage} alt=\"Image of day reset icon\" height={75} />\n                </Col>\n                <Col>\n                    <b><i>Nullstillingsknappen</i></b> brukes for å slette alle vakter på den angitte datoen som ikke allerede har passert.\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/day-copy.4215b4c1.PNG\";","import React, { Component } from 'react'\nimport DayCopyImage from './../../../assets/images/day-copy.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class DayCopy extends Component {\n    render() {\n        return (\n            <Row>\n                <Col xs={0.1}>\n                    <Image src={DayCopyImage} alt=\"Image of day copy icon\" height={75}/>\n                </Col>\n                <Col>\n                    <b><i>Kopieringsknappen</i></b> brukes for å kopiere over alle vaktene på den angitte datoen til andre datoer. Mer om kopiering lenger ned.\n                </Col>\n            </Row>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/registered-shifts.603c85fa.PNG\";","import React, { Component } from 'react'\nimport IndividualShiftImage from './../../../assets/images/registered-shifts.PNG'\nimport './InformationButtons.css'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class IndividualShift extends Component {\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <h3>Registrerte vakter</h3>\n                </Row>\n                <Row>\n                    <Image src={IndividualShiftImage} alt=\"Image of Individual shifts\" />\n                </Row>\n                <Row>\n                    Registrerte vakter blir vist i blir vist i dagsboksene med starttid på venstre side, og\n                    sluttid eller {'<>'} for pilvakter på høyre side. Vakter som er lagret i databasen vises med\n                    svart tekst, mens nye vakter som ikke er lagret blir vist med gul-oransje tekst.\n                    På høyre side av vaktene er det et kryss man kan trykke på for å slette vakten\n                    hvis dagen ikke er låst og vakten ikke har passert.\n                </Row>\n            </Container>\n            \n        )\n    }\n}\n","import React, { Component } from 'react'\nimport DayLock from './Buttons/DayLock'\nimport DayReset from './Buttons/DayReset'\nimport DayCopy from './Buttons/DayCopy'\nimport IndividualShift from './Buttons/IndividualShift'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class DayButtons extends Component {\n    render() {\n        return (\n            <div>\n                <Row>\n                    <h3>Dagsknapper</h3>\n                </Row>\n                <Row>\n                    Knappene som brukes for å manipulere dagsboksene er ganske like knappen som brukes for ukesboksene,\n                    men er kun for en dag av gangen, i stedet for hele uken.\n                </Row>\n\n                <DayLock />\n                <br />\n                <DayReset />\n                <br />\n                <DayCopy />\n                <br /> <br />\n                <IndividualShift />\n            </div>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/registration-day-box.705cdea1.PNG\";","import React, { Component } from 'react'\nimport DayButtons from './DayButtons'\nimport DayBoxImage from './../../assets/images/registration-day-box.PNG'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class DayBox extends Component {\n    render() {\n        return (\n            <div>\n                <Row>\n                    <h2>Dagsregistrering</h2>\n                </Row>\n                <Row>\n                    <Image src={DayBoxImage} alt=\"Image of weekbox\" width={400}/>\n                </Row>\n                <Row>\n                    TODO: beskriv dagsboks (dag er starttid-sluttid ikke nødvendigvis på gitt dato)\n                </Row>\n\n                <br />\n                <DayButtons />\n            </div>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/new-registration-normal.d8757274.PNG\";","export default __webpack_public_path__ + \"static/media/new-registration-arrow.5b9b3392.PNG\";","export default __webpack_public_path__ + \"static/media/new-registration-dropdown.b23bb4b0.PNG\";","import React, { Component } from 'react'\nimport NewRegistrationNormal from './../../assets/images/new-registration-normal.PNG'\nimport NewRegistrationArrow from './../../assets/images/new-registration-arrow.PNG'\nimport NewRegistrationDropdown from './../../assets/images/new-registration-dropdown.PNG'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class NewShift extends Component {\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <h2>Registrering av ny vakt</h2>\n                </Row>\n                <Row>\n                    <Col xs={0.1}>\n                        <Row><Image src={NewRegistrationNormal} alt=\"Image of weekbox\" width={330} /></Row>\n                        <Row><Image src={NewRegistrationArrow} alt=\"Image of weekbox\" width={330} /></Row>\n                    </Col>\n                    <Col>\n                        <Image src={NewRegistrationDropdown} alt=\"Image of weekbox\" width={130} />\n                    </Col>\n                </Row>\n                <Row>\n                    For å registrere en ny vakt kan man trykke på Ny knappen på den dagen man ønsker å registrere.\n                    Dette vil åpne en boks der man kan velge start tid og slutttid, eller man kan velge at det skal\n                    være en pilvakt der man kun velger starttid. Deretter kan man trykke \"Velg tid\" for å lagre vakten til dagen.\n                </Row>\n            </Container>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/day-copy-popout.de30ecac.PNG\";","import React, { Component } from 'react'\nimport DayCopyPopoutImage from './../../assets/images/day-copy-popout.PNG'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class DayCopying extends Component {\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <h3>Dager</h3>\n                </Row>\n                <Row>\n                    <Image src={DayCopyPopoutImage} alt=\"Image of weekbox\" width={500} />\n                </Row>\n                <Row>\n                    Når man trykker på kopieringsknappen i en dagsboks blir et kopieringsvindu åpnet.\n                    Her kan man se alle dagene i lovlig periode inndelt i uker, og man kan markere hvilke dager\n                    man ønsker å kopiere til. Når man trykker lagre blir vaktene på valgte dager erstattet med vaktene\n                    i den opprinnelige dagen. Dager som allerede har passert kan ikke markeres, og kopiering til dager\n                    som er halveis passert vil kun kopiere inn tidspunkter etter nåtid.\n                </Row>\n            </Container>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/week-copy-popout.0c075240.PNG\";","import React, { Component } from 'react'\nimport WeekCopyPoput from './../../assets/images/week-copy-popout.PNG'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class WeekCopying extends Component {\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <h3>Uker</h3>\n                </Row>\n                <Row>\n                    <Image src={WeekCopyPoput} alt=\"Image of weekbox\" width={200} />\n                </Row>\n                <Row>\n                    Etter å ha trykket kopieringsknappen i ukesboksen åpnes en boks der man kan markere hvilke \n                    uker man har lyst til å kopiere vaktene til. Når man trykker på lagre blir alle vaktene i de \n                    markerte ukene erstattet med vaktene i den opprinnelige uken. Hvis man kopierer til nåværende uke\n                    vil kun vaktene som ikke har passert bli kopiert inn.\n                </Row>\n            </Container>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport DayCopying from './DayCopying'\nimport WeekCopying from './WeekCopying'\n\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nexport default class Copying extends Component {\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <h2>Kopiering</h2>\n                </Row>\n                \n                <WeekCopying />\n                <br />\n                <DayCopying />\n            </Container>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport WeekBox from './WeekBox'\nimport DayBox from './DayBox'\nimport NewShift from './NewShift'\nimport Copying from './Copying'\n\nexport default class ShiftRegistration extends Component {\n    render() {\n        return (\n            <Container> \n                <Row>\n                    <h1 id=\"shiftRegistration\">Vaktregistrering</h1>\n                </Row>\n                <Row><h5 className=\"italic\">For tiden kun tilgjengelig på norsk</h5></Row>\n                \n                <WeekBox />\n                <br /> <br /> <br />\n                <DayBox />\n\n                <br /> <br /> <br />\n                <NewShift />\n\n                <br /> <br /> <br />\n                <Copying />\n            </Container>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport i18n from './../../Language/i18n'\nimport './Acknowledgements.css'\n\nexport default class Acknowledgements extends Component {\n    render() {\n        return (\n            <Container className=\"acknowledgements\">\n                <Row><h1 id=\"acknowledgements\">{i18n.t(\"information.acknowledgements-title\")}</h1></Row>\n                <Row><p>{i18n.t(\"information.acknowledgements-subtitle\")}</p></Row>\n\n                <Row><h4>Bootstrap React</h4></Row>\n                <Row><a href=\"https://github.com/react-bootstrap/react-bootstrap\" target=\"_blank\">https://github.com/react-bootstrap</a></Row>\n                <Row><p>Copyright &copy; 2021 Stephen J. Collings, Matthew Honnibal, Pieter Vanderwerff. The React Bootstrap framework is licensed under the <a href=\"https://opensource.org/licenses/MIT\">MIT license</a>.</p></Row>\n\n                <Row><h4>Ant Design Icons</h4></Row>\n                <Row><a href=\"https://ant.design/\" target=\"_blank\">https://ant.design</a></Row>\n                <Row><p>Copyright &copy; 2021 Ant UED, <a href=\"https://xtech.antfin.com/\" target=\"_blank\">https://xtech.antfin.com</a>. Ant Design icons is released under the <a href=\"https://opensource.org/licenses/MIT\">MIT license</a>.</p></Row>\n\n                <Row><h4>Google Material Design Icons</h4></Row>\n                <Row><a href=\"https://fonts.google.com/icons\" target=\"_blank\">https://fonts.google.com/icons</a></Row>\n                <Row><p>Provided under the <a href=\"https://www.apache.org/licenses/LICENSE-2.0.txt\">Apache 2.0 license</a>.</p></Row>\n                \n                <Row><h4>Ionic Framework</h4></Row>\n                <Row><a href=\"https://ionicons.com/\" target=\"_blank\">https://ionicons.com</a></Row>\n                <Row><p>Copyright &copy; 2021 Ionic. Ionic icons are licensed under the <a href=\"https://opensource.org/licenses/MIT\">MIT license</a>.</p></Row>\n\n                <Row><h4>React Spinkit</h4></Row>\n                <Row><a href=\"https://github.com/KyleAMathews/react-spinkit/\" target=\"_blank\">https://github.com/KyleAMathews/react-spinkit</a></Row>\n                <Row><p>Copyright &copy; 2014 Kyle Mathews. The React Spinkit module is licensed under the <a href=\"https://opensource.org/licenses/MIT\">MIT license</a>.</p></Row>\n\n                <Row><h4>Feathericons</h4></Row>\n                <Row><a href=\"https://github.com/feathericons/feather/\" target=\"_blank\">https://github.com/feathericons/feather</a></Row>\n                <Row><p>Copyright &copy; 2017 Cole Bemis. Feathericons is licensed under the <a href=\"https://opensource.org/licenses/MIT\">MIT license</a>.</p></Row>\n\n            </Container>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport i18n from './../Language/i18n'\nimport ShiftRegistration from './ShiftRegistration/ShiftRegistration'\nimport Acknowledgements from './Acknowledgements/Acknowledgements'\nimport './Information.css'\n\nexport default class Information extends Component {\n\n    componentDidMount() {\n        document.title = i18n.t('title.information')\n    }\n\n    render() {\n        return (\n            <div className=\"informationContainer\" role=\"main\">\n                <Container className=\"headerLinksContainer\">\n                    <Row><h4><a href=\"#shiftRegistration\">{i18n.t('information.shiftregistrations-title')} &gt;</a></h4></Row>\n                    <Row><h4><a href=\"#acknowledgements\">{i18n.t('information.acknowledgements-title')} &gt;</a></h4></Row>\n                </Container>\n                <ShiftRegistration />\n                <Acknowledgements />\n            </div>\n            \n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Button } from 'react-bootstrap'\nimport i18n from './../Language/i18n'\nimport Spinner from 'react-spinkit'\nimport './Home.css'\n\nexport default class Home extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             ongoing: false,\n             currentOngoing: null,\n             loading: false\n        }\n        this.handleClick = this.handleClick.bind(this)\n        this.formatTime = this.formatTime.bind(this)\n    }\n\n\n    componentDidMount() {\n        this.checkOngoing()\n        document.title = i18n.t('title.home')\n    }\n\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.rosters != this.props.rosters) {\n            this.checkOngoing()\n        }   \n    }\n\n\n    handleClick() {\n        if(this.state.ongoing) {\n            let rosterStart = new Date(this.state.currentOngoing.fldOpRStartDate)\n            let rosterStartTime = new Date(this.state.currentOngoing.fldOpRStartTime)\n            rosterStart.setHours(rosterStartTime.getHours())\n            rosterStart.setMinutes(rosterStartTime.getMinutes())\n            rosterStart.setSeconds(rosterStartTime.getSeconds())\n\n            this.props.deleteRoster(rosterStart, true)\n            this.setState({ongoing: false, currentOngoing: null})\n        } else {\n            this.setState({loading: true})\n            let startTime = new Date()\n            startTime.setHours(startTime.getHours() - 1)\n            this.props.addRoster(startTime, startTime, true, true)\n            this.checkOngoing()\n            setTimeout(() => {\n                this.setState({loading: false})},\n                2000\n            )\n        }\n    }\n\n    checkOngoing() {\n        this.props.rosters.forEach(roster => {\n            if(roster.fldOpRLogOn === true && roster.fldOpRLogOut === false) {\n                this.setState({ongoing: true, currentOngoing: roster})\n            }\n        })\n    }\n\n    formatTime(rosterEnd) {\n        let hour = rosterEnd.getHours() > 9 ? rosterEnd.getHours() : `0${rosterEnd.getHours()}`\n        let minute = rosterEnd.getMinutes() > 9 ? rosterEnd.getMinutes() : `0${rosterEnd.getMinutes()}`\n        let time = hour + \":\" + minute\n        return i18n.t('home.on-shift-until') + \" \" + time\n    }\n\n    render() {\n        const buttonText = this.state.ongoing ? `${i18n.t('home.end-shift')}` : `${i18n.t('home.start-shift')}`\n        let informationText = \"\"\n        if (this.state.currentOngoing != null) {\n            if (this.state.currentOngoing.fldOpREndTime === null)\n                informationText = `${i18n.t('home.on-shift-openended')}`\n            else {\n                let rosterEnd = new Date(this.state.currentOngoing.fldOpREndTime)\n                informationText = `${this.formatTime(rosterEnd)}`\n            }\n        } else informationText = `${i18n.t('home.not-on-shift')}`\n\n        const spinner = <Spinner name=\"three-bounce\"/>\n        const content = \n            <div>\n                <h2>{informationText}</h2>\n                <br />\n                <Button className=\"warning\" variant=\"secondary\" onClick={this.handleClick}>{buttonText}</Button>\n            </div>\n\n        return (\n            <div className=\"homeContainer\" role=\"main\">\n                {this.state.loading ? spinner : content}\n            </div>\n        )\n    }\n}\n","const parseJwt = (token) => {\n    var base64Url = token.split('.')[1]\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/')\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)\n    }).join(''))\n  \n    return JSON.parse(jsonPayload)\n  };\n  \n  export const loadAuth = () => {\n    // loads jwt from cookie, \n    const token = localStorage.getItem('MolendoToken')\n    if (!token) return\n    const payload = parseJwt(token)\n    // A day is subtracted from expiration to reduce chance\n    // of untimely auth redirection\n    const expiration = new Date(payload.exp*1000-86400000)\n    if (expiration.getTime() < new Date().getTime()) {\n      localStorage.removeItem('MolendoToken')\n      return\n    } else {\n      return {jwt: token, opServId: payload.opservid}\n    }\n  }\n\n  export const loadService = () => {\n    // loads service info from cookie, \n    const token = localStorage.getItem('MolendoToken')\n    if (!token) return {name: \"Magic Circle\", theme: \"magic-circle\",\n                        minHour: 9, maxHour: 1}\n    const payload = parseJwt(token)\n    return {name: payload.service, theme: payload.theme,\n        minHour: payload.minhour, maxHour: payload.maxhour}\n  }","import React, { Component } from 'react'\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom'\nimport i18n from './Language/i18n'\nimport Toolbar from './Toolbar/Toolbar'\nimport Calendar from './Calendar/Calendar'\nimport Login from './Login/Login'\nimport Information from './Information/Information'\nimport Home from './Home/Home'\nimport { loadAuth, loadService } from './Jwt/Jwt'\nimport './App.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './assets/css/magic-circle.css'\nimport './assets/css/data-svar.css'\n\n\nexport default class App extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tservices: null,\n\t\t\tbaseUrl: \"http://18.191.107.144:88/molendo/\",\n\t\t\t//baseUrl: \"http://192.168.1.52:5002/molendo/\",\n\t\t\tauthenticated: loadAuth(),\n\t\t\tservice: loadService(),\n\t\t\tcurrentLanguage: i18n.language,\n\t\t\trosters: [],\n\t\t}\n\n\t\tthis.setAuthenticated = this.setAuthenticated.bind(this)\n\t\tthis.setRosters = this.setRosters.bind(this)\n\t\tthis.setServices = this.setServices.bind(this)\n\t\tthis.deleteRoster = this.deleteRoster.bind(this)\n\t\tthis.addRoster = this.addRoster.bind(this)\n\t\tthis.createDate = this.createDate.bind(this)\n\t\tthis.saveRosters = this.saveRosters.bind(this)\n\t\tthis.getRosters = this.getRosters.bind(this)\n\t\tthis.replaceRostersOnDate = this.replaceRostersOnDate.bind(this)\n\t\tthis.replaceRostersOnWeek = this.replaceRostersOnWeek.bind(this)\n\t\tthis.deleteRostersBetweenDates = this.deleteRostersBetweenDates.bind(this)\n\t\tthis.formatDate = this.formatDate.bind(this)\n\t\tthis.formatTime = this.formatTime.bind(this)\n\t\tthis.handleLangChange = this.handleLangChange.bind(this)\n\t\tthis.logOut = this.logOut.bind(this)\n\t\tthis.onLanguageChanged = this.onLanguageChanged.bind(this)\n\t\tthis.handleServiceChange = this.handleServiceChange.bind(this)\n\t}\n\n\t// Necessary?\n\tcomponentWillUnmount() {\n\t\ti18n.off('languageChanged', this.onLanguageChanged)\n\t}\n\n\t// Observer method for i18next\n\tonLanguageChanged(lang) {\n\t\tthis.forceUpdate()\n\t}\n\t\n\tcomponentDidMount() {\n\t\ti18n.on('languageChanged', this.onLanguageChanged)\n\t\tif (this.state.authenticated && this.state.rosters.length === 0)\n\t\t\tthis.getRosters(this.state.authenticated.opServId,\n\t\t\t\tthis.state.authenticated.jwt)\n\t\tconst lang = localStorage.getItem('MolendoLang')\n\t\tif (lang) i18n.changeLanguage(lang)\n\t}\n\n\t// Receives service name and changes related state variables\n\t// used to design theme and other things\n\thandleServiceChange(serviceName) {\n\t\tconst service = this.state.services[serviceName]\n\t\tthis.setState({service: {\n\t\t\tname: serviceName,\n\t\t\ttheme: service[\"fldServCssTheme\"],\n\t\t\tminHour: service[\"fldServMinHour\"],\n\t\t\tmaxHour: service[\"fldServMaxHour\"]}\n\t\t})\n\t}\n\n\n\tlogOut() {\n\t\tlocalStorage.removeItem('MolendoToken')\n\t\tthis.setState({authenticated: null, rosters: []})\n\t}\n\n\n\thandleLangChange(lang) {\n\t\tthis.setState({currentLanguage: lang})\n\t\ti18n.changeLanguage(lang)\n\t\tlocalStorage.setItem('MolendoLang', lang)\n\t\tdocument.documentElement.lang = lang\n\t}\n\n\n\tsetAuthenticated(auth) { \n\t\tthis.setState({authenticated: auth})\n\t\tlocalStorage.setItem('MolendoToken', auth.jwt)\n\t}\n\n\n\tsetRosters(data) {\n\t\tthis.setState(() => {\n\t\t\tlet sortedRosters = data.sort((a, b) => {\n\t\t\t\tlet aStart = this.createDate(a.fldOpRStartDate, a.fldOpRStartTime);\n\t\t\t\tlet bStart = this.createDate(b.fldOpRStartDate, b.fldOpRStartTime);\n\t\t\t\treturn aStart - bStart\n\t\t\t})\n\t\t\treturn {\n\t\t\t\trosters: sortedRosters\n\t\t\t}\n\t\t})\n\t}\n\n\n\tsetServices(data) {\n\t\tconst services = {}\n\t\tdata.forEach(service => services[service.fldServID] = service)\n\t\tthis.setState({services: services})\n\t}\n\n\n    getRosters(opServId, jwt) {\n\t\tif (!opServId && !jwt) {\n\t\t\topServId = this.state.authenticated.opServId\n\t\t\tjwt = this.state.authenticated.jwt\n\t\t}\n\t\tlet url = this.state.baseUrl+\"roster/\"+opServId\n\t\tlet options =  {\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t'Authorization': 'Bearer '+jwt\n\t\t\t}\n\t\t}\n\t\t\n        fetch(url, options)\n                .then(async response => {\n                    const data = await response.json()\n                    if (response.status == 200) {\n                        this.setRosters(data)\n\t\t\t\t\t\treturn\n\t\t\t\t\t\t/*\n                    } else if (response.status === 400 || response.status === 401) {\n\t\t\t\t\t\tthis.logOut()*/\n                    } else {\n                        const error = (data && data.message) || response.status\n\t\t\t\t\t\tthis.logOut()\n                        return Promise.reject(error)\n                    }\n                })\n                .catch(error => {\n\t\t\t\t\tthis.logOut()\n                    console.log(error)\n                })\n    }\n\n\n\t// Helper method for comparing datetimes\n\tcreateDate(date, time) {\n\t\tdate = new Date(date)\n\t\ttime = new Date(time)\n\t\tdate.setHours(time.getHours())\n\t\tdate.setMinutes(time.getMinutes())\n\t\tdate.setSeconds(time.getSeconds())\n\t\treturn date\n\t}\n\n\n\t// Helper method for formatting DB date\n\tformatDate(dateTime) {\n\t\tlet time = \"T00:00:00\"\n\t\tlet month = dateTime.getMonth() + 1 > 9 ?\n\t\t\tdateTime.getMonth() + 1 : \"0\" + (dateTime.getMonth() + 1)\n\t\tlet date = dateTime.getDate() > 9 ?\n\t\t\tdateTime.getDate() : \"0\" + dateTime.getDate()\n\t\treturn dateTime.getFullYear() + \"-\" + month + \"-\" + date + time\n\t}\n\n\n\t// Helper method for formatting DB time\n\tformatTime(dateTime) {\n\t\tlet date = \"1900-01-01T\"\n\t\tlet hours = dateTime.getHours() > 9 ?\n\t\t\tdateTime.getHours() : \"0\" + dateTime.getHours()\n\t\tlet minutes = dateTime.getMinutes() > 9 ?\n\t\t\tdateTime.getMinutes() : \"0\" + dateTime.getMinutes()\n\t\tlet seconds = dateTime.getSeconds() > 9 ?\n\t\t\tdateTime.getSeconds() : \"0\" + dateTime.getSeconds()\n\t\treturn date + hours + \":\" + minutes + \":\" + seconds\n\t}\n\n\n\taddRoster(start, end, openEnded, shouldSave) {\n\t\tlet startDate = this.formatDate(start)\n\t\tlet endDate\n\t\tif (openEnded) endDate = startDate\n\t\telse endDate = this.formatDate(end)\n\t\tlet startTime = this.formatTime(start)\n\t\tlet endTime = openEnded ? null : this.formatTime(end)\n\t\tthis.setState(prevState => {\n\t\t\tlet newRosters = prevState.rosters\n\n\t\t\tlet newRoster = {\n\t\t\t\tfldOpServID: prevState.authenticated.opServId,\n\t\t\t\tfldOpRStartDate: startDate,\n\t\t\t\tfldOpRStartTime: startTime,\n\t\t\t\tfldOpREndDate: endDate,\n\t\t\t\tfldOpREndTime: endTime,\n\t\t\t\tfldOpRLogOn: false,\n\t\t\t\tfldOpRLogOut: false,\n\t\t\t\tfldOpRDropIn: false,\n\t\t\t\tfldOpROnHold: false,\n\t\t\t\tfldOpRComment: \"\"\n\t\t\t}\n\n\t\t\t// Maintaining sorting order in roster list when adding new\n\t\t\tfor (let i = 0; i < prevState.rosters.length; i++) {\n\t\t\t\tlet pointerStart = new Date(prevState.rosters[i].fldOpRStartDate)\n\n\t\t\t\tlet pointerStartTime = new Date(prevState.rosters[i].fldOpRStartTime)\n\t\t\t\tpointerStart.setHours(pointerStartTime.getHours())\n\t\t\t\tpointerStart.setMinutes(pointerStartTime.getMinutes())\n\t\t\t\tpointerStart.setSeconds(pointerStartTime.getSeconds())\n\n\t\t\t\tif (start.getTime() < pointerStart.getTime()) {\n\t\t\t\t\tnewRosters.splice(i, 0, newRoster)\n\t\t\t\t\tbreak\n\t\t\t\t} else if (i === prevState.rosters.length - 1) {\n\t\t\t\t\tnewRosters.push(newRoster)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!newRosters.length) newRosters.push(newRoster)\n\t\t\treturn {\n\t\t\t\trosters: newRosters\n\t\t\t}\n\t\t}, () => {\n\t\t\tif (shouldSave) {\n\t\t\t\tthis.saveRosters().then(async response => {\n\t\t\t\t\tif (response.status == 201 || response.status == 200) \n\t\t\t\t\t\tthis.getRosters()\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\n\t// Deletes roster with given start time\n\tdeleteRoster(start, shouldSave) {\n\t\tlet deleteTime = new Date(start)\n\t\tthis.setState(prevState => {\n\t\t\tlet newRosters = prevState.rosters\n\n\t\t\tfor(let i = 0; i < newRosters.length; i++) {\n\t\t\t\tlet rosterStart = new Date(newRosters[i].fldOpRStartDate)\n\t\t\t\tlet rosterStartTime = new Date(newRosters[i].fldOpRStartTime)\n\t\t\t\trosterStart.setHours(rosterStartTime.getHours())\n\t\t\t\trosterStart.setMinutes(rosterStartTime.getMinutes())\n\t\t\t\trosterStart.setSeconds(rosterStartTime.getSeconds())\n\t\t\t\trosterStart.setMilliseconds(rosterStartTime.getMilliseconds())\n\n\t\t\t\tif(deleteTime.getTime() === rosterStart.getTime()) {\n\t\t\t\t\tif(newRosters[i].fldOpRLogOn === true) newRosters[i].fldOpRLogOut = true\n\t\t\t\t\telse newRosters.splice(i, 1)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\trosters: newRosters\n\t\t\t}\n\t\t}, () => {\n\t\t\tif (shouldSave) this.saveRosters()\n\t\t})\n\t\tconsole.log(this.state.rosters)\n\t}\n\n\n\treplaceRostersOnDate(date, rosters, serverTime) {\n\t\tlet prevRosters = this.state.rosters\n\t\tlet currentMinTime = serverTime\n\t\tlet endTime = new Date(date)\n\n\t\twhile (endTime.getHours() != this.state.service.maxHour) {\n\t\t\tendTime.setHours(endTime.getHours() + 1)\n\t\t}\n\n\t\t// Delete old rosters on day\n\t\tfor(let i = 0; i < prevRosters.length; i++) {\n\t\t\t// Skip if shift is finished\n\t\t\tif(prevRosters[i].fldOpRLogOn === true &&\n\t\t\t\tprevRosters[i].fldOpRLogOut === true) continue\n\n\t\t\tlet rosterStart = new Date(prevRosters[i].fldOpRStartDate)\n\t\t\tlet rosterStartTime = new Date(prevRosters[i].fldOpRStartTime)\n\t\t\trosterStart.setHours(rosterStartTime.getHours())\n\t\t\trosterStart.setMinutes(rosterStartTime.getMinutes())\n\t\t\trosterStart.setSeconds(rosterStartTime.getSeconds())\n\n\t\t\t// Ignore shifts that started before start of day, unless they are ongoing\n\t\t\tif(rosterStart.getTime() < date) continue\n\n\t\t\t// Exit out of loop if start time of shift is after max time of day\n\t\t\tif(rosterStart.getTime() > endTime.getTime()) continue\n\n\t\t\t// Delete/end roster if it has not started yet, or if its an openended shift\n\t\t\tif((prevRosters[i].fldOpRLogOn === false && prevRosters[i].fldOpRLogOut === false) \n\t\t\t\t|| prevRosters[i].fldOpREndTime === null) this.deleteRoster(rosterStart)\n\t\t\t// Set currentMinTime (used when inserting new rosters) to the end of current ongoing shift\n\t\t\telse {\n\t\t\t\tlet rosterEnd = new Date(prevRosters[i].fldOpREndDate)\n\t\t\t\tlet rosterEndTime = new Date(prevRosters[i].fldOpREndTime)\n\t\t\t\t\n\t\t\t\trosterEnd.setHours(rosterEndTime.getHours())\n\t\t\t\trosterEnd.setMinutes(rosterEndTime.getMinutes())\n\t\t\t\trosterEnd.setSeconds(rosterEndTime.getSeconds())\n\n\t\t\t\tcurrentMinTime = rosterEnd\n\t\t\t\tcurrentMinTime.setMinutes(currentMinTime.getMinutes() + 1)\n\t\t\t}\n\t\t}\n\n\n\t\t// Insert new rosters on day\n\t\trosters.forEach(roster => {\n\t\t\tlet start = new Date(date)\n\t\t\tlet startTime = new Date(roster.fldOpRStartTime)\n\t\t\tstart.setHours(startTime.getHours())\n\t\t\tstart.setMinutes(startTime.getMinutes())\n\t\t\tstart.setSeconds(startTime.getSeconds())\n\n\t\t\tlet end = new Date(date)\n\t\t\tlet endTime = new Date(roster.fldOpREndTime)\n\t\t\tend.setHours(endTime.getHours())\n\t\t\tend.setMinutes(endTime.getMinutes())\n\t\t\tend.setSeconds(endTime.getSeconds())\n\n\t\t\tif (this.state.service.maxHour < this.state.service.minHour) {\n\t\t\t\tif (start.getHours() < this.state.service.maxHour) start.setDate(start.getDate() + 1)\n\t\t\t\tif (end.getHours() < this.state.service.maxHour) end.setDate(end.getDate() + 1)\n\t\t\t}\n\n\t\t\tif (currentMinTime > start.getTime() && currentMinTime < end.getTime())\n\t\t\t\tstart = new Date(currentMinTime)\n\n\t\t\tif (currentMinTime <= start.getTime()) this.addRoster(start, end, roster.fldOpREndTime === null)\n\t\t})\n\t}\n\n\n\tdeleteRostersBetweenDates(start, end) {\n\t\tlet startDate = new Date(start)\n\t\tlet endDate = new Date(end)\n\n\t\tthis.setState(prevState => {\n\t\t\tlet newRosters = prevState.rosters.filter(roster => {\n\t\t\t\tlet rosterStart = new Date(roster.fldOpRStartDate)\n\t\t\t\tlet rosterTime = new Date(roster.fldOpRStartTime)\n\t\t\t\trosterStart.setHours(rosterTime.getHours())\n\t\t\t\trosterStart.setMinutes(rosterTime.getMinutes())\n\t\t\t\trosterStart.setSeconds(rosterTime.getHours())\n\n\t\t\t\treturn rosterStart.getTime() < startDate.getTime() ||\n\t\t\t\t\trosterStart.getTime() > endDate.getTime()\n\t\t\t})\n\n\t\t\treturn {\n\t\t\t\trosters: newRosters\n\t\t\t}\n\t\t})\n\t}\n\n\n\treplaceRostersOnWeek(startTime, rosters, serverTime) {\n\t\trosters.forEach((rosterList, index) => {\n\t\t\tlet start = new Date(startTime)\n\t\t\tstart.setDate(start.getDate() + index)\n\t\t\tthis.replaceRostersOnDate(start, rosterList, serverTime)\n\t\t})\n\t}\n\n\n\tasync deleteRosters() {\n\t\tconst url = this.state.baseUrl+\"roster/\"+this.state.authenticated.opServId\n\t\tconst options = {\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer '+this.state.authenticated.jwt\n\t\t\t},\n\t\t\tmethod: 'DELETE',\n\t\t}\n\t\tconst response = await fetch(url, options)\n\t\treturn response\n\t}\n\n\n\tasync saveRosters() {\n\t\tlet rostersToSave = this.state.rosters.filter(roster => \n\t\t\troster.fldOpRLogOn === false || roster.fldOpRLogOut === false)\n\t\tconsole.log(rostersToSave)\n\t\tif(rostersToSave.length === 0) {\n\t\t\treturn await this.deleteRosters()\n\t\t}\n\t\tconst url = this.state.baseUrl+\"roster/\"\n\t\tconst options = {\n\t\t\t\tmode: 'cors',\n\t\t\t\theaders: {\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': 'Bearer '+this.state.authenticated.jwt\n\t\t\t\t},\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify(rostersToSave)\n\t\t}\n\t\tconst response = await fetch(url, options)\n\t\treturn response\n\t}\n\n\n\trender() {\n\t\tconst loginContainer = <Login\n\t\t\tservice={this.state.service.name}\n\t\t\tservices={this.state.services}\n\t\t\tbaseUrl={this.state.baseUrl}\n\t\t\tsetAuthenticated={this.setAuthenticated}\n\t\t\tgetRosters={this.getRosters}\n\t\t\tsetServices={this.setServices}\n\t\t\thandleServiceChange={this.handleServiceChange}\n\t\t\thandleLangChange={this.handleLangChange}\n\t\t\tauthenticated={this.state.authenticated} />\n\n\t\tconst calendarContainer = <Calendar\n\t\t\tbaseUrl={this.state.baseUrl}\n\t\t\tdeleteRostersBetweenDates={this.deleteRostersBetweenDates}\n\t\t\treplaceRostersOnWeek={this.replaceRostersOnWeek}\n\t\t\treplaceRostersOnDate={this.replaceRostersOnDate}\n\t\t\tminHour={this.state.service.minHour}\n\t\t\tmaxHour={this.state.service.maxHour}\n\t\t\tcssTheme={this.state.service.theme}\n\t\t\trosters={this.state.rosters}\n\t\t\tdeleteRoster={this.deleteRoster}\n\t\t\taddRoster={this.addRoster}\n\t\t\tsaveRosters={this.saveRosters}\n\t\t\tgetRosters={this.getRosters} />\n\n\t\tconst homeContainer = <Home \n\t\t\trosters={this.state.rosters}\n\t\t\tdeleteRoster={this.deleteRoster}\n\t\t\tsaveRosters={this.saveRosters}\n\t\t\taddRoster={this.addRoster} />\n\n\t\treturn (\n\t\t\t<div className={this.state.service.theme}>\n\t\t\t\t<Router>\n\t\t\t\t\t{this.state.authenticated ?\n\t\t\t\t\t\t<Toolbar\n\t\t\t\t\t\t\tlogOut={this.logOut}\n\t\t\t\t\t\t\thandleLangChange={this.handleLangChange}\n\t\t\t\t\t\t/> \n\t\t\t\t\t\t: <Redirect to=\"/login\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/login\">\n\t\t\t\t\t\t\t{loginContainer}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t{homeContainer}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/calendar\">\n\t\t\t\t\t\t\t{calendarContainer}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/information\">\n\t\t\t\t\t\t\t<Information />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/home\">\n\t\t\t\t\t\t\t{homeContainer}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t);\n\t}\n}","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './Language/i18n'\nimport './index.css';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n"],"sourceRoot":""}